/*==================================================
 Copyright (c) 2013-2015 司徒正美 and other contributors
 http://www.cnblogs.com/rubylouvre/
 https://github.com/RubyLouvre
 http://weibo.com/jslouvre/
 
 Released under the MIT license
 avalon.shim.js 1.5.4 built in 2015.10.18
 support IE6+ and other browsers
 ==================================================*/

/*! jQuery UI - v1.11.0 - 2014-07-12
* http://jqueryui.com
* Includes: core.js, datepicker.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Core 1.11.0
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

/*!
 * jQuery UI Datepicker 1.11.0
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */

/*! WebUploader 0.1.5 */

function load(){require(["main"],function(e){})}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=wt[e]={};return it.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function o(){dt.addEventListener?(dt.removeEventListener("DOMContentLoaded",u,!1),e.removeEventListener("load",u,!1)):(dt.detachEvent("onreadystatechange",u),e.detachEvent("onload",u))}function u(){(dt.addEventListener||"load"===event.type||"complete"===dt.readyState)&&(o(),it.ready())}function a(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Nt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else n=void 0}return n}function f(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(it.acceptData(e)){var i,s,o=it.expando,u=e.nodeType,a=u?it.cache:e,f=u?e[o]:e[o]&&o;if(f&&a[f]&&(r||a[f].data)||void 0!==n||"string"!=typeof t)return f||(f=u?e[o]=J.pop()||it.guid++:o),a[f]||(a[f]=u?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?a[f]=it.extend(a[f],t):a[f].data=it.extend(a[f].data,t)),s=a[f],r||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[it.camelCase(t)]=n),"string"==typeof t?(i=s[t],null==i&&(i=s[it.camelCase(t)])):i=s,i}}function c(e,t,n){if(it.acceptData(e)){var r,i,s=e.nodeType,o=s?it.cache:e,u=s?e[it.expando]:it.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!f(r):!it.isEmptyObject(r))return}(n||(delete o[u].data,f(o[u])))&&(s?it.cleanData([e],!0):nt.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function h(){return!0}function p(){return!1}function d(){try{return dt.activeElement}catch(e){}}function v(e){var t=Bt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==xt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xt?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||it.nodeName(r,t)?s.push(r):it.merge(s,m(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],s):s}function g(e){Ot.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=$t.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function S(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,s=it._data(e),o=it._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)it.event.add(t,n,u[n][r])}o.data&&(o.data=it.extend({},o.data))}}function x(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events)it.removeEvent(t,r,i.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ot.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),s}function N(e){var t=dt,n=Zt[e];return n||(n=T(e,t),"none"!==n&&n||(Yt=(Yt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Yt[0].contentWindow||Yt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Yt.detach()),Zt[e]=n),n}function C(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=pn.length;i--;)if(t=pn[i]+n,t in e)return t;return r}function L(e,t){for(var n,r,i,s=[],o=0,u=e.length;u>o;o++)r=e[o],r.style&&(s[o]=it._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(s[o]=it._data(r,"olddisplay",N(r.nodeName)))):(i=Lt(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function A(e,t,n){var r=fn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function O(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=it.css(e,n+kt[s],!0,i)),r?("content"===n&&(o-=it.css(e,"padding"+kt[s],!0,i)),"margin"!==n&&(o-=it.css(e,"border"+kt[s]+"Width",!0,i))):(o+=it.css(e,"padding"+kt[s],!0,i),"padding"!==n&&(o+=it.css(e,"border"+kt[s]+"Width",!0,i)));return o}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=en(e),o=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=tn(e,t,s),(0>i||null==i)&&(i=e.style[t]),rn.test(i))return i;r=o&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+O(e,t,n||(o?"border":"content"),r,s)+"px"}function _(e,t,n,r,i){return new _.prototype.init(e,t,n,r,i)}function D(){return setTimeout(function(){dn=void 0}),dn=it.now()}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=kt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var r,i=(wn[t]||[]).concat(wn["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function B(e,t,n){var r,i,s,o,u,a,f,l,c=this,h={},p=e.style,d=e.nodeType&&Lt(e),v=it._data(e,"fxshow");n.queue||(u=it._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,c.always(function(){c.always(function(){u.unqueued--,it.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],f=it.css(e,"display"),l="none"===f?it._data(e,"olddisplay")||N(e.nodeName):f,"inline"===l&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mn.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;d=!0}h[r]=v&&v[r]||it.style(e,r)}else f=void 0;if(it.isEmptyObject(h))"inline"===("none"===f?N(e.nodeName):f)&&(p.display=f);else{v?"hidden"in v&&(d=v.hidden):v=it._data(e,"fxshow",{}),s&&(v.hidden=!d),d?it(e).show():c.done(function(){it(e).hide()}),c.done(function(){var t;it._removeData(e,"fxshow");for(t in h)it.style(e,t,h[t])});for(r in h)o=H(d?v[r]:0,r,c),r in v||(v[r]=o.start,d&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function j(e,t){var n,r,i,s,o;for(n in e)if(r=it.camelCase(n),i=t[r],s=e[n],it.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=it.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,s=0,o=bn.length,u=it.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=dn||D(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:dn||D(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(j(l,f.opts.specialEasing);o>s;s++)if(r=bn[s].call(f,e,l,f.opts))return r;return it.map(l,H,f),it.isFunction(f.opts.start)&&f.opts.start.call(e,f),it.fx.timer(it.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(bt)||[];if(it.isFunction(n))for(;r=s[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function q(e,t,n,r){function i(u){var a;return s[u]=!0,it.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||o||s[f]?o?!(a=f):void 0:(t.dataTypes.unshift(f),i(f),!1)}),a}var s={},o=e===Wn;return i(t.dataTypes[0])||!s["*"]&&i("*")}function R(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function U(e,t,n){for(var r,i,s,o,u=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function z(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];for(s=l.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function W(e,t,n,r){var i;if(it.isArray(t))it.each(t,function(t,i){n||Jn.test(e)?r(e,i):W(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(i in t)W(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],K=J.slice,Q=J.concat,G=J.push,Y=J.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},rt="1.11.1",it=function(e,t){return new it.fn.init(e,t)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,ut=/-([\da-z])/gi,at=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||it.isFunction(o)||(o={}),u===a&&(o=this,u--);a>u;u++)if(null!=(i=arguments[u]))for(r in i)e=o[r],n=i[r],o!==n&&(f&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,s=e&&it.isArray(e)?e:[]):s=e&&it.isPlainObject(e)?e:{},o[r]=it.extend(f,s,n)):void 0!==n&&(o[r]=n));return o},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(ut,at)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,s=0,o=e.length,u=n(e);if(r){if(u)for(;o>s&&(i=t.apply(e[s],r),i!==!1);s++);else for(s in e)if(i=t.apply(e[s],r),i===!1)break}else if(u)for(;o>s&&(i=t.call(e[s],s,e[s]),i!==!1);s++);else for(s in e)if(i=t.call(e[s],s,e[s]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(st,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Y)return Y.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,r){var i,s=0,o=e.length,u=n(e),a=[];if(u)for(;o>s;s++)i=t(e[s],s,r),null!=i&&a.push(i);else for(s in e)i=t(e[s],s,r),null!=i&&a.push(i);return Q.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=K.call(arguments,2),r=function(){return e.apply(t||this,n.concat(K.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+(new Date)},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ft=function(e){function t(e,t,n,r){var i,s,o,u,a,f,c,p,d,v;if((t?t.ownerDocument||t:q)!==_&&M(t),t=t||_,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(P&&!r){if(i=yt.exec(e))if(o=i[1]){if(9===u){if(s=t.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&F(t,s)&&s.id===o)return n.push(s),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(E.qsa&&(!H||!H.test(e))){if(p=c=I,d=t,v=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(f=N(e),(c=t.getAttribute("id"))?p=c.replace(wt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",a=f.length;a--;)f[a]=p+h(f[a]);d=bt.test(e)&&l(t.parentNode)||t,v=f.join(",")}if(v)try{return Z.apply(n,d.querySelectorAll(v)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return k(e.replace(at,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=_.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=e.length;r--;)S.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function a(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function f(e){return r(function(t){return t=+t,r(function(n,r){for(var i,s=e([],n.length,t),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&typeof e.getElementsByTagName!==$&&e}function c(){}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=U++;return t.first?function(t,n,s){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[R,s];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(a=t[I]||(t[I]={}),(u=a[r])&&u[0]===R&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function v(e,n,r){for(var i=0,s=n.length;s>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function g(e,t,n,i,s,o){return i&&!i[I]&&(i=g(i)),s&&!s[I]&&(s=g(s,o)),r(function(r,o,u,a){var f,l,c,h=[],p=[],d=o.length,g=r||v(t||"*",u.nodeType?[u]:u,[]),y=!e||!r&&t?g:m(g,h,e,u,a),b=n?s||(r?e:d||i)?[]:o:y;if(n&&n(y,b,u,a),i)for(f=m(b,p),i(f,[],u,a),l=f.length;l--;)(c=f[l])&&(b[p[l]]=!(y[p[l]]=c));if(r){if(s||e){if(s){for(f=[],l=b.length;l--;)(c=b[l])&&f.push(y[l]=c);s(null,b=[],f,a)}for(l=b.length;l--;)(c=b[l])&&(f=s?tt.call(r,c):h[l])>-1&&(r[f]=!(o[f]=c))}}else b=m(b===o?b.splice(d,b.length):b),s?s(null,o,b,a):Z.apply(o,b)})}function y(e){for(var t,n,r,i=e.length,s=S.relative[e[0].type],o=s||S.relative[" "],u=s?1:0,a=p(function(e){return e===t},o,!0),f=p(function(e){return tt.call(t,e)>-1},o,!0),l=[function(e,n,r){return!s&&(r||n!==L)||((t=n).nodeType?a(e,n,r):f(e,n,r))}];i>u;u++)if(n=S.relative[e[u].type])l=[p(d(l),n)];else{if(n=S.filter[e[u].type].apply(null,e[u].matches),n[I]){for(r=++u;i>r&&!S.relative[e[r].type];r++);return g(u>1&&d(l),u>1&&h(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(at,"$1"),n,r>u&&y(e.slice(u,r)),i>r&&y(e=e.slice(r)),i>r&&h(e))}l.push(n)}return d(l)}function b(e,n){var i=n.length>0,s=e.length>0,o=function(r,o,u,a,f){var l,c,h,p=0,d="0",v=r&&[],g=[],y=L,b=r||s&&S.find.TAG("*",f),w=R+=null==y?1:Math.random()||.1,E=b.length;for(f&&(L=o!==_&&o);d!==E&&null!=(l=b[d]);d++){if(s&&l){for(c=0;h=e[c++];)if(h(l,o,u)){a.push(l);break}f&&(R=w)}i&&((l=!h&&l)&&p--,r&&v.push(l))}if(p+=d,i&&d!==p){for(c=0;h=n[c++];)h(v,g,o,u);if(r){if(p>0)for(;d--;)v[d]||g[d]||(g[d]=G.call(a));g=m(g)}Z.apply(a,g),f&&!r&&g.length>0&&p+n.length>1&&t.uniqueSort(a)}return f&&(R=w,L=y),v};return i?r(o):o}var w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I="sizzle"+ -(new Date),q=e.document,R=0,U=0,z=n(),W=n(),X=n(),V=function(e,t){return e===t&&(O=!0),0},$="undefined",J=1<<31,K={}.hasOwnProperty,Q=[],G=Q.pop,Y=Q.push,Z=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=it.replace("w","w#"),ot="\\["+rt+"*("+it+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+rt+"*\\]",ut=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ft=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ct=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ht=new RegExp(ut),pt=new RegExp("^"+st+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+ut),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),St=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(Q=et.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch(xt){Z={apply:Q.length?function(e,t){Y.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:q,r=n.defaultView;return n!==_&&9===n.nodeType&&n.documentElement?(_=n,D=n.documentElement,P=!T(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){M()},!1):r.attachEvent&&r.attachEvent("onunload",function(){M()})),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=gt.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=i(function(e){return D.appendChild(e).id=I,!n.getElementsByName||!n.getElementsByName(I).length}),E.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==$&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Et,St);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Et,St);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},S.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==$&&P?t.getElementsByClassName(e):void 0},B=[],H=[],(E.qsa=gt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&H.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||H.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(E.matchesSelector=gt.test(j=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(e){E.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),B.push("!=",ut)}),H=H.length&&new RegExp(H.join("|")),B=B.length&&new RegExp(B.join("|")),t=gt.test(D.compareDocumentPosition),F=t||gt.test(D.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return O=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!E.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===q&&F(q,e)?-1:t===n||t.ownerDocument===q&&F(q,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&r?-1:1)}:function(e,t){if(e===t)return O=!0,0;var r,i=0,s=e.parentNode,u=t.parentNode,a=[e],f=[t];if(!s||!u)return e===n?-1:t===n?1:s?-1:u?1:A?tt.call(A,e)-tt.call(A,t):0;if(s===u)return o(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)f.unshift(r);for(;a[i]===f[i];)i++;return i?o(a[i],f[i]):a[i]===q?-1:f[i]===q?1:0},n):_},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==_&&M(e),n=n.replace(ct,"='$1']"),!(!E.matchesSelector||!P||B&&B.test(n)||H&&H.test(n)))try{var r=j.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,_,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==_&&M(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==_&&M(e);var n=S.attrHandle[t.toLowerCase()],r=n&&K.call(S.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:E.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(O=!E.detectDuplicates,A=!E.sortStable&&e.slice(0),e.sort(V),O){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},x=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Et,St),e[3]=(e[3]||e[4]||e[5]||"").replace(Et,St),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return dt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Et,St).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var s=t.attr(i,e);return null==s?"!="===n:n?(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s+" ").indexOf(r)>-1:"|="===n?s===r||s.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){for(;v;){for(c=t;c=c[v];)if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){for(l=m[I]||(m[I]={}),f=l[e]||[],p=f[0]===R&&f[1],h=f[0]===R&&f[2],c=p&&m.childNodes[p];c=++p&&c&&c[v]||(h=p=0)||d.pop();)if(1===c.nodeType&&++h&&c===t){l[e]=[R,p,h];break}}else if(y&&(f=(t[I]||(t[I]={}))[e])&&f[0]===R)h=f[1];else for(;(c=++p&&c&&c[v]||(h=p=0)||d.pop())&&((u?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++h||(y&&((c[I]||(c[I]={}))[e]=[R,h]),c!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,n){var i,s=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[I]?s(n):s.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=s(e,n),o=i.length;o--;)r=tt.call(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return s(e,0,i)}):s}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(at,"$1"));return i[I]?r(function(e,t,n,r){for(var s,o=i(e,null,r,[]),u=e.length;u--;)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Et,St).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return vt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:f(function(){return[0]}),last:f(function(e,t){return[t-1]}),eq:f(function(e,t,n){return[0>n?n+t:n]}),even:f(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:f(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:f(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:f(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=u(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=a(w);return c.prototype=S.filters=S.pseudos,S.setFilters=new c,N=t.tokenize=function(e,n){var r,i,s,o,u,a,f,l=W[e+" "];if(l)return n?0:l.slice(0);for(u=e,a=[],f=S.preFilter;u;){(!r||(i=ft.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),r=!1,(i=lt.exec(u))&&(r=i.shift(),s.push({value:r,type:i[0].replace(at," ")}),u=u.slice(r.length));for(o in S.filter)!(i=dt[o].exec(u))||f[o]&&!(i=f[o](i))||(r=i.shift(),s.push({value:r,type:o,matches:i}),u=u.slice(r.length));if(!r)break}return n?u.length:u?t.error(e):W(e,a).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],s=X[e+" "];if(!s){for(t||(t=N(e)),n=t.length;n--;)s=y(t[n]),s[I]?r.push(s):i.push(s);s=X(e,b(i,r)),s.selector=e}return s},k=t.select=function(e,t,n,r){var i,s,o,u,a,f="function"==typeof e&&e,c=!r&&N(e=f.selector||e);if(n=n||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&E.getById&&9===t.nodeType&&P&&S.relative[s[1].type]){if(t=(S.find.ID(o.matches[0].replace(Et,St),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=dt.needsContext.test(e)?0:s.length;i--&&(o=s[i],!S.relative[u=o.type]);)if((a=S.find[u])&&(r=a(o.matches[0].replace(Et,St),bt.test(s[0].type)&&l(t.parentNode)||t))){if(s.splice(i,1),e=r.length&&h(s),!e)return Z.apply(n,r),n;break}}return(f||C(e,c))(r,t,!P,n,bt.test(e)&&l(t.parentNode)||t),n},E.sortStable=I.split("").sort(V).join("")===I,E.detectDuplicates=!!O,M(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=ft,it.expr=ft.selectors,it.expr[":"]=it.expr.pseudos,it.unique=ft.uniqueSort,it.text=ft.getText,it.isXMLDoc=ft.isXML,it.contains=ft.contains;var lt=it.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;i>t;t++)it.find(e,r[t],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&lt.test(e)?it(e):e||[],!1).length}});var pt,dt=e.document,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:vt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:dt,!0)),ct.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=dt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pt.find(e);this.length=1,this[0]=r}return this.context=dt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};mt.prototype=it.fn,pt=it(dt);var gt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],o=lt.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?it.unique(s):s)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[e]||(i=it.unique(i)),gt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,wt={};it.Callbacks=function(e){e="string"==typeof e?wt[e]||s(e):it.extend({},e);var t,n,r,i,o,u,a=[],f=!e.once&&[],l=function(s){for(n=e.memory&&s,r=!0,o=u||0,u=0,i=a.length,t=!0;a&&i>o;o++)if(a[o].apply(s[0],s[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function s(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),t?i=a.length:n&&(u=r,l(n))}return this},remove:function(){return a&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,a,r))>-1;)a.splice(r,1),t&&(i>=r&&i--,o>=r&&o--)}),this},has:function(e){return e?it.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],i=0,this},disable:function(){return a=f=n=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,n){return!a||r&&!f||(n=n||[],n=[e,n.slice?n.slice():n],t?f.push(n):l(n)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,s){var o=it.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,s=K.call(arguments),o=s.length,u=1!==o||e&&it.isFunction(e.promise)?o:0,a=1===u?e:it.Deferred(),f=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?K.call(arguments):i,r===t?a.notifyWith(n,r):--u||a.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)s[i]&&it.isFunction(s[i].promise)?s[i].promise().done(f(i,r,s)).fail(a.reject).progress(f(i,n,t)):--u;return u||a.resolveWith(r,s),a.promise()}});var Et;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!dt.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(Et.resolveWith(dt,[it]),it.fn.triggerHandler&&(it(dt).triggerHandler("ready"),it(dt).off("ready")))}}}),it.ready.promise=function(t){if(!Et)if(Et=it.Deferred(),"complete"===dt.readyState)setTimeout(it.ready);else if(dt.addEventListener)dt.addEventListener("DOMContentLoaded",u,!1),e.addEventListener("load",u,!1);else{dt.attachEvent("onreadystatechange",u),e.attachEvent("onload",u);var n=!1;try{n=null==e.frameElement&&dt.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}o(),it.ready()}}()}return Et.promise(t)};var St,xt="undefined";for(St in it(nt))break;nt.ownLast="0"!==St,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=dt.getElementsByTagName("body")[0],n&&n.style&&(t=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=dt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!f(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return c(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return c(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=it.data(s),1===s.nodeType&&!it._data(s,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),a(s,r,i[r])));it._data(s,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):s?a(s,e,it.data(s,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),s=it._queueHooks(e,t),o=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=it._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=["Top","Right","Bottom","Left"],Lt=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},At=it.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===it.type(n)){i=!0;for(u in n)it.access(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(it(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},Ot=/^(?:checkbox|radio)$/i;!function(){var e=dt.createElement("input"),t=dt.createElement("div"),n=dt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==dt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=dt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Mt=/^(?:input|select|textarea)$/i,_t=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=it._data(e);if(m){for(n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=it.guid++),(o=m.events)||(o=m.events={}),(l=m.handle)||(l=m.handle=function(e){return typeof it===xt||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(bt)||[""],u=t.length;u--;)s=Ht.exec(t[u])||[],p=v=s[1],d=(s[2]||"").split(".").sort(),p&&(f=it.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=it.event.special[p]||{},c=it.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:d.join(".")},a),(h=o[p])||(h=o[p]=[],h.delegateCount=0,f.setup&&f.setup.call(e,r,d,l)!==!1||(e.addEventListener?e.addEventListener(p,l,!1):e.attachEvent&&e.attachEvent("on"+p,l))),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),it.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=it.hasData(e)&&it._data(e);if(m&&(l=m.events)){for(t=(t||"").match(bt)||[""],f=t.length;f--;)if(u=Ht.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort(),p){for(c=it.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;s--;)o=h[s],!i&&v!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&(c.teardown&&c.teardown.call(e,d,m.handle)!==!1||it.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)it.event.remove(e,p+t[f],n,r,!0);it.isEmptyObject(l)&&(delete m.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var s,o,u,a,f,l,c,h=[r||dt],p=tt.call(t,"type")?t.type:t,d=tt.call(t,"namespace")?t.namespace.split("."):[];if(u=l=r=r||dt,3!==r.nodeType&&8!==r.nodeType&&!Pt.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),f=it.event.special[p]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!it.isWindow(r)){for(a=f.delegateType||p,Pt.test(a+p)||(u=u.parentNode);u;u=u.parentNode)h.push(u),l=u;l===(r.ownerDocument||dt)&&h.push(l.defaultView||l.parentWindow||e)}for(c=0;(u=h[c++])&&!t.isPropagationStopped();)t.type=c>1?a:f.bindType||p,s=(it._data(u,"events")||{})[t.type]&&it._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&it.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!f._default||f._default.apply(h.pop(),n)===!1)&&it.acceptData(r)&&o&&r[p]&&!it.isWindow(r)){l=r[o],l&&(r[o]=null),it.event.triggered=p;try{r[p]()}catch(v){}it.event.triggered=void 0,l&&(r[o]=l)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,s,o=[],u=K.call(arguments),a=(it._data(this,"events")||{})[e.type]||[],f=it.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,e)!==!1){for(o=it.event.handlers.call(this,e,a),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,s=0;(r=i.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,u),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==e.type)){for(i=[],s=0;u>s;s++)r=t[s],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(a)>=0:it.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[it.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Dt.test(i)?this.mouseHooks:_t.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new it.Event(s),t=r.length;t--;)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||dt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||dt,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=dt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===xt&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void (this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(o=r,r=function(e){return it().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Bt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Bt+")[\\s/>]","i"),It=/^\s+/,qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,Ut=/<tbody/i,zt=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,$t=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=v(dt),Gt=Qt.appendChild(dt.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,it.extend({clone:function(e,t,n){var r,i,s,o,u,a=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Ft.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Gt.innerHTML=e.outerHTML,Gt.removeChild(s=Gt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=m(s),u=m(e),o=0;null!=(i=u[o]);++o)r[o]&&x(i,r[o]);if(t)if(n)for(u=u||m(e),r=r||m(s),o=0;null!=(i=u[o]);o++)S(i,r[o]);else S(e,s);return r=m(s,"script"),r.length>0&&E(r,!a&&m(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){for(var i,s,o,u,a,f,l,c=e.length,h=v(t),p=[],d=0;c>d;d++)if(s=e[d],s||0===s)if("object"===it.type(s))it.merge(p,s.nodeType?[s]:s);else if(zt.test(s)){for(u=u||h.appendChild(t.createElement("div")),a=(Rt.exec(s)||["",""])[1].toLowerCase(),l=Kt[a]||Kt._default,u.innerHTML=l[1]+s.replace(qt,"<$1></$2>")+l[2],i=l[0];i--;)u=u.lastChild;if(!nt.leadingWhitespace&&It.test(s)&&p.push(t.createTextNode(It.exec(s)[0])),!nt.tbody)for(s="table"!==a||Ut.test(s)?"<table>"!==l[1]||Ut.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;i--;)it.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f);for(it.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=h.lastChild}else p.push(t.createTextNode(s));for(u&&h.removeChild(u),nt.appendChecked||it.grep(m(p,"input"),g),d=0;s=p[d++];)if((!r||-1===it.inArray(s,r))&&(o=it.contains(s.ownerDocument,s),u=m(h.appendChild(s),"script"),o&&E(u),n))for(i=0;s=u[i++];)Vt.test(s.type||"")&&n.push(s);return u=null,h},cleanData:function(e,t){for(var n,r,i,s,o=0,u=it.expando,a=it.cache,f=nt.deleteExpando,l=it.event.special;null!=(n=e[o]);o++)if((t||it.acceptData(n))&&(i=n[u],s=i&&a[i])){if(s.events)for(r in s.events)l[r]?it.event.remove(n,r):it.removeEvent(n,r,s.handle);a[i]&&(delete a[i],f?delete n[u]:typeof n.removeAttribute!==xt?n.removeAttribute(u):n[u]=null,J.push(i))}}}),it.fn.extend({text:function(e){return At(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||dt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&E(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(jt,""):void 0;if(!("string"!=typeof e||Wt.test(e)||!nt.htmlSerialize&&Ft.test(e)||!nt.leadingWhitespace&&It.test(e)||Kt[(Rt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(qt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=it.isFunction(h);if(p||f>1&&"string"==typeof h&&!nt.checkClone&&Xt.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f&&(u=it.buildFragment(e,this[0].ownerDocument,!1,this),n=u.firstChild,1===u.childNodes.length&&(u=n),n)){for(s=it.map(m(u,"script"),b),i=s.length;f>a;a++)r=u,a!==c&&(r=it.clone(r,!0,!0),i&&it.merge(s,m(r,"script"))),t.call(this[a],r,a);if(i)for(o=s[s.length-1].ownerDocument,it.map(s,w),a=0;i>a;a++)r=s[a],Vt.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(o,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")));u=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],s=it(e),o=s.length-1;o>=r;r++)n=r===o?this:this.clone(!0),it(s[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Yt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=dt.getElementsByTagName("body")[0],n&&n.style?(t=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(dt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),sn=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tn=function(e,t,n){var r,i,s,o,u=e.style;return n=n||en(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||it.contains(e.ownerDocument,e)||(o=it.style(e,t)),rn.test(o)&&nn.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0===o?o:o+""}):dt.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var r,i,s,o,u=e.style;return n=n||en(e),o=n?n[t]:void 0,null==o&&u&&u[t]&&(o=u[t]),rn.test(o)&&!sn.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,n,r,i;n=dt.getElementsByTagName("body")[0],n&&n.style&&(t=dt.createElement("div"),r=dt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s=o=!1,a=!0,e.getComputedStyle&&(s="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(dt.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",a=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",u=0===i[0].offsetHeight,u&&(i[0].style.display="",i[1].style.display="none",u=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,s,o,u,a;n=dt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",nt.opacity="0.5"===r.opacity,nt.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==u&&t(),u},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==s&&t(),s},reliableMarginRight:function(){return null==a&&t(),a}}))}(),it.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var on=/alpha\([^)]*\)/i,un=/opacity\s*=\s*([^)]*)/,an=/^(none|table(?!-c[ea]).+)/,fn=new RegExp("^("+Ct+")(.*)$","i"),ln=new RegExp("^([+-])=("+Ct+")","i"),cn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=it.camelCase(t),a=e.style;if(t=it.cssProps[u]||(it.cssProps[u]=k(a,u)),o=it.cssHooks[t]||it.cssHooks[u],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:a[t];if(s=typeof n,"string"===s&&(i=ln.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||it.cssNumber[u]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{a[t]=n}catch(f){}}},css:function(e,t,n,r){var i,s,o,u=it.camelCase(t);return t=it.cssProps[u]||(it.cssProps[u]=k(e.style,u)),o=it.cssHooks[t]||it.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=tn(e,t,r)),"normal"===s&&t in hn&&(s=hn[t]),""===n||n?(i=parseFloat(s),n===!0||it.isNumeric(i)?i||0:s):s}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?an.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,cn,function(){return M(e,t,r)}):M(e,t,r):void 0},set:function(e,n,r){var i=r&&en(e);return A(e,n,r?O(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(s.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=on.test(s)?s.replace(on,i):s+" "+i)}}),it.cssHooks.marginRight=C(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+kt[r]+t]=s[r]||s[r-2]||s[0];return i}},nn.test(e)||(it.cssHooks[e+t].set=A)}),it.fn.extend({css:function(e,t){return At(this,function(e,t,n){var r,i,s={},o=0;if(it.isArray(t)){for(r=en(e),i=t.length;i>o;o++)s[t[o]]=it.css(e,t[o],!1,r);return s}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?it(this).show():it(this).hide()})}}),it.Tween=_,_.prototype={constructor:_,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(it.cssNumber[n]?"":"px")},cur:function(){var e=_.propHooks[this.prop];return e&&e.get?e.get(this):_.propHooks._default.get(this)},run:function(e){var t,n=_.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=_.prototype.init,it.fx.step={};var dn,vn,mn=/^(?:toggle|show|hide)$/,gn=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[B],wn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gn.exec(t),s=i&&i[3]||(it.cssNumber[e]?"":"px"),o=(it.cssNumber[e]||"px"!==s&&+r)&&gn.exec(it.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,it.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(F,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),s=it.speed(t,n,r),o=function(){var t=F(this,it.extend({},e),s);(i||it._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=it.timers,o=it._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&yn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=it.timers,o=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),it.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(dn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),dn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){vn||(vn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(vn),vn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=dt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=dt.createElement("select"),i=n.appendChild(dt.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!dt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=dt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var En=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(En,""):null==n?"":n)}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,s=it.makeArray(t),o=i.length;o--;)if(r=i[o],it.inArray(it.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Sn,xn,Tn=it.expr.attrHandle,Nn=/^(?:checked|selected)$/i,Cn=nt.getSetAttribute,kn=nt.input;it.fn.extend({attr:function(e,t){return At(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===xt?it.prop(e,t,n):(1===s&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?xn:Sn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(bt);if(s&&1===e.nodeType)for(;n=s[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)?kn&&Cn||!Nn.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(Cn?n:r)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):kn&&Cn||!Nn.test(n)?e.setAttribute(!Cn&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tn[t]||it.find.attr;Tn[t]=kn&&Cn||!Nn.test(t)?function(e,t,r){var i,s;return r||(s=Tn[t],Tn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Tn[t]=s),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),kn&&Cn||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?void (e.defaultValue=t):Sn&&Sn.set(e,t,n)}}),Cn||(Sn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tn.id=Tn.name=Tn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Sn.set},it.attrHooks.contenteditable={set:function(e,t,n){Sn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ln=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return At(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!it.isXMLDoc(e),s&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):Ln.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var On=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(bt)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(On," "):" ")){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=it.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(bt)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(On," "):"")){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=e?it.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=it(this),s=e.match(bt)||[];t=s[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===xt||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(On," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Mn=it.now(),_n=/\?/,Dn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(Dn,function(e,t,i,s){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var Pn,Hn,Bn=/#.*$/,jn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,In=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qn=/^(?:GET|HEAD)$/,Rn=/^\/\//,Un=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},Wn={},Xn="*/".concat("*");try{Hn=location.href}catch(Vn){Hn=dt.createElement("a"),Hn.href="",Hn=Hn.href}Pn=Un.exec(Hn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hn,type:"GET",isLocal:In.test(Pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,it.ajaxSettings),t):R(it.ajaxSettings,e)},ajaxPrefilter:I(zn),ajaxTransport:I(Wn),ajax:function(e,t){function n(e,t,n,r){var i,l,g,y,w,S=t;2!==b&&(b=2,u&&clearTimeout(u),f=void 0,o=r||"",E.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=U(c,E,n)),y=z(c,y,E,i),i?(c.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(it.lastModified[s]=w),w=E.getResponseHeader("etag"),w&&(it.etag[s]=w)),204===e||"HEAD"===c.type?S="nocontent":304===e?S="notmodified":(S=y.state,l=y.data,g=y.error,i=!g)):(g=S,(e||!S)&&(S="error",0>e&&(e=0))),E.status=e,E.statusText=(t||S)+"",i?d.resolveWith(h,[l,S,E]):d.rejectWith(h,[E,S,g]),E.statusCode(m),m=void 0,a&&p.trigger(i?"ajaxSuccess":"ajaxError",[E,c,i?l:g]),v.fireWith(h,[E,S]),a&&(p.trigger("ajaxComplete",[E,c]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=it.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?it(h):it.event,d=it.Deferred(),v=it.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l)for(l={};t=Fn.exec(o);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return f&&f.abort(t),n(0,t),this}};if(d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,c.url=((e||c.url||Hn)+"").replace(Bn,"").replace(Rn,Pn[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=it.trim(c.dataType||"*").toLowerCase().match(bt)||[""],null==c.crossDomain&&(r=Un.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===Pn[1]&&r[2]===Pn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Pn[3]||("http:"===Pn[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=it.param(c.data,c.traditional)),q(zn,c,t,E),2===b)return E;a=c.global,a&&0===it.active++&&it.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!qn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(_n.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=jn.test(s)?s.replace(jn,"$1_="+Mn++):s+(_n.test(s)?"&":"?")+"_="+Mn++)),c.ifModified&&(it.lastModified[s]&&E.setRequestHeader("If-Modified-Since",it.lastModified[s]),it.etag[s]&&E.setRequestHeader("If-None-Match",it.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",c.contentType),E.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Xn+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)E.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,E,c)!==!1&&2!==b){w="abort";for(i in{success:1,error:1,complete:1})E[i](c[i]);if(f=q(Wn,c,t,E)){E.readyState=1,a&&p.trigger("ajaxSend",[E,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){E.abort("timeout")},c.timeout));try{b=1,f.send(g,n)}catch(S){if(!(2>b))throw S;n(-1,S)}}else n(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var $n=/%20/g,Jn=/\[\]$/,Kn=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Gn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(n in e)W(n,e[n],t,i);return r.join("&").replace($n,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Gn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!Ot.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Kn,"\r\n")}}):{name:t.name,value:n.replace(Kn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||V()}:X;var Yn=0,Zn={},er=it.ajaxSettings.xhr();e.ActiveXObject&&it(e).on("unload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!er&&"withCredentials"in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Yn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||4===s.readyState))if(delete Zn[o],t=void 0,s.onreadystatechange=it.noop,i)4!==s.readyState&&s.abort();else{f={},u=s.status,"string"==typeof s.responseText&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}u||!e.isLocal||e.crossDomain?1223===u&&(u=204):u=f.text?200:404}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Zn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=dt.head||it("head")[0]||dt.documentElement;return{send:function(r,i){t=dt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+Mn++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(_n.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||it.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),o&&it.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||dt;var r=ct.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=it.trim(e.slice(u,e.length)),e=e.slice(0,u)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&it.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=it.css(e,"position"),c=it(e),h={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=it.css(e,"top"),a=it.css(e,"left"),f=("absolute"===l||"fixed"===l)&&it.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),it.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(h.top=t.top-u.top+o),null!=t.left&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(s)return t=s.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==xt&&(r=i.getBoundingClientRect()),n=$(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return At(this,function(e,r,i){var s=$(e);return void 0===i?s?t in s?s[t]:s.document.documentElement[r]:e[r]:void (s?s.scrollTo(n?it(s).scrollLeft():i,n?i:it(s).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=C(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return At(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,o):it.style(t,n,r,o)},t,s?r:void 0,s,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var sr=e.jQuery,or=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=or),t&&e.jQuery===it&&(e.jQuery=sr),it},typeof t===xt&&(e.jQuery=e.$=it),it}),function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Avalon requires a window with a document");return t(e)}:t(e)}(typeof window!="undefined"?window:this,function(e,t){function n(){e.console&&avalon.config.debug&&Function.apply.call(console.log,console,arguments)}function r(e){return Function.apply(i,e)}function i(){}function s(e,t){typeof e=="string"&&(e=e.match(Gt)||[]);var n={},r=t!==void 0?t:1;for(var i=0,s=e.length;i<s;i++)n[e[i]]=r;return n}function o(){if(e.VBArray){var t=document.documentMode;return t?t:e.XMLHttpRequest?7:6}return NaN}function u(e){return tn.test(sn.call(e))}function a(e,t){return e=Math.floor(e)||0,e<0?Math.max(t+e,0):Math.min(e,t)}function f(e){if(!e)return!1;var t=e.length;if(t===t>>>0){var n=sn.call(e).slice(8,-1);if(/(?:regexp|string|function|window|global)$/i.test(n))return!1;if(n==="Array")return!0;try{return{}.propertyIsEnumerable.call(e,"length")===!1?/^\s?function/.test(e.item||e.callee):!0}catch(r){return!e.window}}return!1}function l(e,t,n){var r="for(var "+e+"i=0,n = this.length; i < n; i++){"+t.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+n;return Function("fn,scope",r)}function c(e,t){try{while(t=t.parentNode)if(t===e)return!0;return!1}catch(n){return!1}}function h(){return(new XMLSerializer).serializeToString(this)}function p(e){var t={};for(var n in e)t[n]=e[n];var r=t.target=e.srcElement;if(e.type.indexOf("key")===0)t.which=e.charCode!=null?e.charCode:e.keyCode;else if(On.test(e.type)){var i=r.ownerDocument||Wt,s=i.compatMode==="BackCompat"?i.body:i.documentElement;t.pageX=e.clientX+(s.scrollLeft>>0)-(s.clientLeft>>0),t.pageY=e.clientY+(s.scrollTop>>0)-(s.clientTop>>0),t.wheelDeltaY=t.wheelDelta,t.wheelDeltaX=0}return t.timeStamp=new Date-0,t.originalEvent=e,t.preventDefault=function(){e.returnValue=!1},t.stopPropagation=function(){e.cancelBubble=!0},t}function d(e){for(var t in e){if(!rn.call(e,t))continue;var n=e[t];typeof d.plugins[t]=="function"?d.plugins[t](n):typeof d[t]=="object"?avalon.mix(d[t],n):d[t]=n}return this}function v(e){return(e+"").replace(In,"\\$&")}function m(e,t){var n=this.$events||(this.$events={}),r=n[e]||(n[e]=[]);if(typeof t=="function"){var s=t;s.uniqueNumber=Math.random(),t={element:fn,type:"user-watcher",handler:i,vmodels:[this],expr:e,uniqueNumber:s.uniqueNumber},t.wildcard=/\*/.test(e)}if(!t.update){if(/\w\.*\B/.test(e)){t.getter=i;var o=this;t.update=function(){var e=this.fireArgs||[];e[2]&&t.handler.apply(o,e),delete this.fireArgs},r.sync=!0,avalon.Array.ensure(r,t)}else avalon.injectBinding(t);s&&(t.handler=s)}else t.oneTime||avalon.Array.ensure(r,t);return function(){t.update=t.getter=t.handler=i,t.element=Wt.createElement("a")}}function g(e,t){var n=this.$events;if(n&&n[e]){t&&(t[2]=e);var r=n[e];b(r,t);var i=this.$up;i&&!/\*\./.test(e)&&(this.$pathname&&g.call(i,this.$pathname+"."+e,t),g.call(i,"*."+e,t))}else{i=this.$up;if(i){var s=this.$pathname;s===""&&(s="*");var o=s+"."+e;i.$ups&&i.$ups[o]&&(i=i.$ups[o]);var r=o.split(".");r.indexOf("*")===-1?(g.call(i,o,t),r[1]="*",g.call(i,r.join("."),t)):g.call(i,o,t)}}}function y(e,t){do{if(e.$watch){var n=e.$events||(e.$events={}),r=n[t]||(n[t]=[]);tr.collectDependency(r);return}e=e.$up;if(!e)break;t=e.$pathname+"."+t}while(!0)}function b(e,t){if(!e)return;new Date-sr>444&&typeof e[0]=="object"&&j();var n=[],r=[];for(var i=0,s;s=e[i++];)s.type==="user-watcher"?n.push(s):r.push(s);if(d.async){mi.render();for(i=0;s=r[i++];)if(s.update){var o=H(s);mi.queue[o]||(mi.queue[o]=1,mi.queue.push(s))}}else for(i=0;s=r[i++];)s.update&&s.update();for(i=0;s=n[i++];){if(t&&t[2]===s.expr||s.wildcard)s.fireArgs=t;s.update()}}function w(e,t){return t=t||{},t.watch=!0,S(e,t)}function E(){}function S(e,t){function r(e){return l[e]===!0}if(!e||e.$id&&e.$accessors)return e;t=t||Qt;var i=t.force||Qt,o=t.old,u=o&&o.$accessors||Qt,a=new E,f={},l={},c=[],h=[],p={};e.$skipArray&&(p=s(e.$skipArray),delete e.$skipArray);var d=e.$computed;if(d){delete e.$computed;for(var v in d)l[v]=!0,function(e,t){var n;f[e]={get:function(){return n=t.get.call(this)},set:function(r){if(typeof t.set=="function"){var i=n;t.set.call(this,r);var s=this[e];this.$fire&&s!==i&&this.$fire(e,s,i)}},enumerable:!0,configurable:!0}}(v,d[v])}for(v in e){var y=e[v];Un[v]||(l[v]=!0),typeof y=="function"||y&&y.nodeType||!i[v]&&(v.charAt(0)==="$"||Un[v]||p[v])?c.push(v):x(y)?(n("warning:计算属性建议放在$computed对象中统一定义"),function(e,t){var n;f[e]={get:function(){return n=t.get.call(this)},set:function(r){if(typeof t.set=="function"){var i=n;t.set.call(this,r);var s=this[e];this.$fire&&s!==i&&this.$fire(e,s,i)}},enumerable:!0,configurable:!0}}(v,y)):(h.push(v),u[v]?f[v]=u[v]:f[v]=T(v,y))}f.$model=Jn,a=Xn(a,f,e),c.forEach(function(t){a[t]=e[t]}),k(a,"$ups",{}),k(a,"$id","anonymous"),k(a,"$up",o?o.$up:null),k(a,"$track",Object.keys(l)),k(a,"$active",!1),k(a,"$pathname",o?o.$pathname:""),k(a,"$accessors",f),k(a,"hasOwnProperty",r),t.watch&&(k(a,"$watch",function(){return m.apply(a,arguments)}),k(a,"$fire",function(e,t){if(e.indexOf("all!")===0){var n=e.slice(4);for(var r in avalon.vmodels){var i=avalon.vmodels[r];i.$fire&&i.$fire.apply(i,[n,t])}}else g.call(a,e,[t])})),h.forEach(function(t){var n=a[t]=e[t];n&&typeof n=="object"&&(n.$up=a,n.$pathname=t),g.call(a,t)});for(v in d)y=a[v];return a.$active=!0,a}function x(e){if(e&&typeof e=="object"){for(var t in e)if(t!=="get"&&t!=="set")return!1;return typeof e.get=="function"}}function T(e,t){var n;return t=NaN,{get:function(){return this.$active&&y(this,e),t},set:function(r){if(t===r)return;var i=t;n=N(r,t),n?t=n:(n=void 0,t=r),Object(n)===n&&(n.$pathname=e,n.$up=this),this.$active&&g.call(this,e,[t,i])},enumerable:!0,configurable:!0}}function N(e,t,n,r){if(Array.isArray(e))return C(e,t,r);if(avalon.isPlainObject(e)){if(t){var i=$n(e),s=$n(t);if(i.join(";")===s.join(";")){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}t.$active=!1}return S(e,{old:t,watch:r})}if(n)return e}function C(e,t,n){if(t){var r=[0,t.length].concat(e);return t.splice.apply(t,r),t}for(var i in Zn)e[i]=Zn[i];k(e,"$ups",{}),k(e,"$up",null),k(e,"$pathname",""),k(e,"$track",O(e.length)),e._=S({length:NaN},{watch:!0}),e._.length=e.length,e._.$watch("length",function(t,n){g.call(e.$up,e.$pathname+".length",[t,n])}),n&&k(e,"$watch",function(){return m.apply(e,arguments)}),an?Object.defineProperty(e,"$model",Jn):e.$model=L(e);for(var s=0,o=e.length;s<o;s++){var u=e[s]=N(e[s],0,1,1);Object(u)===u&&(u.$up=e)}return e}function k(e,t,n){Wn?Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!1,configurable:!0}):e[t]=n}function L(e){var t=avalon.type(e);if(t==="array"){var n=[];for(var r=0;r<e.length;r++)n[r]=L(e[r]);return n}if(t==="object"){var i={};for(r in e){if(r==="__proxy__"||r==="__data__"||r==="__const__")continue;if(e.hasOwnProperty(r)){var s=e[r];i[r]=s&&s.nodeType?s:L(s)}}return i}return e}function A(e,t){var n={};for(var r=0,i=t.length;r<i;r++){n[r]=e[r];var s=t[r];s in n?(e[r]=n[s],delete n[s]):e[r]=e[s]}}function O(e){var t=[];for(var n=0;n<e;n++)t[n]=pn("$proxy$each");return t}function M(e,t,n){switch(t){case"push":case"unshift":n=O(n.length);break;case"splice":if(n.length>2){var r=n[1],i=n.length-2;n=[n[0],n[1]].concat(O(n.length-2))}}Array.prototype[t].apply(e,n)}function _(){return new Date-0}function D(e,t){if(t.oneTime)return;e&&avalon.Array.ensure(e,t)&&t.element&&(B(t,e),new Date-sr>444&&j())}function P(e,t){var n=[];for(var r=0,i;i=e[r++];)n.push(t?i.$id:i.$key);return n.join(";")}function H(e){if(!e.uniqueNumber){var t=e.element;t?t.nodeType!==1?e.uniqueNumber=e.type+"-"+H(t.parentNode)+"-"+ ++rr:e.uniqueNumber=e.name+"-"+H(t):e.uniqueNumber=++rr}return e.uniqueNumber}function B(e,t){var n=e.lists||(e.lists=[]),r=H(e);avalon.Array.ensure(n,t),t.$uuid=t.$uuid||pn(),ir[r]||(ir[r]=1,ir.push(e))}function j(e){var t=ir.length,n=t,r=[],i={},s={};while(e=ir[--t]){var o=e.type;s[o]?s[o]++:(s[o]=1,r.push(o))}var u=!1;r.forEach(function(e){or[e]!==s[e]&&(i[e]=1,u=!0)}),t=n;if(u)while(e=ir[--t]){if(e.element===null){ir.splice(t,1);continue}if(i[e.type]&&I(e.element)){ir.splice(t,1),delete ir[e.uniqueNumber];var a=e.lists;for(var f=0,l;l=a[f++];)avalon.Array.remove(a,l),avalon.Array.remove(l,e);F(e)}}or=s,sr=new Date}function F(e){delete ir[e.uniqueNumber],e.element=null,e.rollback&&e.rollback();for(var t in e)e[t]=null}function I(e){try{var t=e.parentNode.nodeType}catch(n){return!0}return e.ifRemove&&!fn.contains(e.ifRemove)&&Vt===e.parentNode?(e.parentNode&&e.parentNode.removeChild(e),!0):e.msRetain?0:e.nodeType===1?!fn.contains(e):!avalon.contains(fn,e)}function q(e){var t=e.nodeName;return t.toLowerCase()===t&&e.scopeName&&e.outerText===""}function R(e){e.currentStyle.behavior!=="url(#default#VML)"&&(e.style.behavior="url(#default#VML)",e.style.display="inline-block",e.style.zoom=1)}function U(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function z(e){return!e||e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}function W(e){if(!("classList"in e)){e.classList={node:e};for(var t in vr)e.classList[t.slice(1)]=vr[t]}return e.classList}function X(e){try{if(typeof e=="object")return e;e=e==="true"?!0:e==="false"?!1:e==="null"?null:+e+""===e?+e:mr.test(e)?avalon.parseJSON(e):e}catch(t){}return e}function V(e){return e.window&&e.document?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}function $(e,t){if(e.offsetWidth<=0){if(Mr.test(Er["@:get"](e,"display"))){var n={node:e};for(var r in Or)n[r]=e.style[r],e.style[r]=Or[r];t.push(n)}var i=e.parentNode;i&&i.nodeType===1&&$(i,t)}}function J(e){var t=e.tagName.toLowerCase();return t==="input"&&/checkbox|radio/.test(e.type)?"checked":t}function K(e,t){var n=[],i=!!t;t=t||0;var s="unknown",o="";for(var u=0;u<e.length;u++){var a=e.charAt(u);if(a==="'"||a==='"')s==="unknown"?s=a:s===a&&(s="unknown");else if(a==="\\")(s==="'"||s==='"')&&u++;else if(Br.test(a))s==="unknown"?(s="variable",o=a):s==="maybePath"?(o=n.pop(),o+="."+a,s="variable"):s==="variable"&&(o+=a);else if(/\w/.test(a))s==="variable"&&(o+=a);else if(a===".")s==="variable"&&o&&(n.push(o),o="",s="maybePath");else if(a==="["){if(s==="variable"||s==="maybePath"){o&&(n.push(o),o="");var f=n.length,l=n[f-1],c=K(e.slice(u),u);if(c.length)n[f-1]=l+".*",n=c.concat(n);else{var h=e.slice(u+1,c.i);try{var p=r(["return "+h])();n[f-1]=l+"."+p}catch(d){}}s="maybePath",u=c.i}}else if(a==="]"){if(i)return n.i=u+t,Q(n,o),n}else jr.test(a)&&a!=="\r"&&a!=="\n"?s==="variable"&&(Q(n,o)&&(s="maybePath"),o=""):(Q(n,o),s="unknown",o="")}return Q(n,o),n}function Q(e,t){if(t&&!Pr[t])return e.push(t),!0}function G(e,t,n,r){var i=[],s=" = "+n+".";for(var o=e.length,u;u=e[--o];){var a=u.split("."),f,l=a[0];while(f=a.shift())t.hasOwnProperty(f)&&(i.push(l+s+l),r.observers.push({v:t,p:u}),e.splice(o,1))}return i}function Y(e){e=e.trim();var t=Ir.get(e);if(t)return t.concat();var n=K(e),r={},i=[];for(var s=0,o;o=n[s++];)r[o]||(r[o]=1,i.push(o));return Ir.put(e,i).concat()}function Z(e,t,n){var i=n.filters;typeof i=="string"&&i.trim()&&!n._filters&&(n._filters=tt(i.trim()));var s=Y(e),o=new Date-0,u=[],a=[],f=[];n.observers=[];for(var l=0,c=t.length;l<c;l++)if(s.length){var h="vm"+o+"_"+l;a.push(h),f.push(t[l]),u.push.apply(u,G(s,t[l],h,n))}n.args=f;var p=n.type,d=t.map(function(e){return String(e.$id).replace(Fr,"$1")})+e+p,v=qr.get(d);if(v){if(p==="duplex"){var m=qr.get(d+"setter");n.setter=m.apply(m,n.args)}return n.getter=v}u.length||u.push("fix"+o);if(p==="duplex"){var g={};u.forEach(function(e){var t=e.split("=");g[t[0].trim()]=t[1].trim()}),e=e.replace(/[\$\w]+/,function(e){return g[e]?g[e]:e});var y=r(a.concat("return function(vvv){"+e+" = vvv\n}\n"));qr.put(d+"setter",y),n.setter=y.apply(y,n.args)}if(p==="on"){e.indexOf("(")===-1?e+=".call(this, $event)":e=e.replace("(",".call(this,"),a.push("$event"),e="\nreturn "+e+";";var b=e.lastIndexOf("\nreturn"),w=e.slice(0,b),E=e.slice(b);e=w+"\n"+E}else e="\nreturn "+e+";";return v=r(a.concat("\nvar "+u.join(",\n")+e)),qr.put(d,v)}function et(e){var t=Bn.test(e);if(t){var n=ht(e);return n.length===1?n[0].expr:n.map(function(e){return e.type?"("+e.expr+")":$r(e.expr)}).join(" + ")}return e}function tt(e){return e=e.replace(Rr,"").replace(Ur,function(){return"],|"}).replace(zr,function(e,t){return"["+$r(t)}).replace(Wr,function(){return'"],["'}).replace(Xr,function(){return'",'})+"]",r(["return ["+e+"]"])()}function nt(e,t,n){var r=setTimeout(function(){var i=e.innerHTML;clearTimeout(r),i===n?t():nt(e,t,i)})}function rt(e,t){var n=e.getAttribute("avalonctrl")||t.$id;e.setAttribute("avalonctrl",n),t.$events&&(t.$events.expr=e.tagName+'[avalonctrl="'+n+'"]')}function it(e,t){for(var n=0,r;r=e[n++];)r.vmodels=t,wn[r.type].init(r),avalon.injectBinding(r),r.getter&&r.element.nodeType===1&&r.element.removeAttribute(r.name);e.length=0}function st(e,t){return e.priority-t.priority}function ot(e,t,r){var i=!0;if(t.length){var s=ai?ai(e):e.attributes,o=[],u={};for(var a=0,f;f=s[a++];){var l=f.name;if(u[l])continue;u[l]=1;if(f.specified)if(r=l.match(Yr)){var c=r[1],h=r[2]||"",p=f.value;Zr[c]?(h=c,c="on"):ei[c]&&(h=c,c="attr",l="ms-"+c+"-"+h,n("warning!请改用"+l+"代替"+f.name+"!"));if(wn[c]){var d=p.replace(Gr,""),v=p!==d,m={type:c,param:h,element:e,name:l,expr:d,oneTime:v,uniqueNumber:f.name+"-"+H(e),priority:(wn[c].priority||c.charCodeAt(0)*10)+(Number(h.replace(/\D/g,""))||0)};if(c==="html"||c==="text"){var g=ct(p).filters;m.expr=m.expr.replace(g,""),m.filters=g.replace(li,function(){return m.type="html",m.group=1,""}).trim()}else if(c==="duplex")var y=l;else if(l==="ms-if-loop")m.priority+=100;else if(l==="ms-attr-value")var b=l;o.push(m)}}}if(o.length){o.sort(st),y&&b&&e.nodeName==="INPUT"&&e.type==="text"&&n("warning!一个控件不能同时定义ms-attr-value与"+y);for(a=0;m=o[a];a++){c=m.type;if(ti.test(c))return it(o.slice(0,a+1),t);i&&(i=!ni.test(c))}it(o,t)}}i&&!Jr[e.tagName]&&(vt(e)?e.msResolved:1)&&(Qr&&Qr(e),at(e,t))}function ut(e){var t=ai?ai(e):e.attributes,n={};for(var r=0,i;i=t[r++];)i.specified&&!fi.test(i.name)&&(n[z(i.name)]=X(i.value));return n}function at(e,t){var n=avalon.slice(e.childNodes);ft(n,t)}function ft(e,t){for(var n=0,r;r=e[n++];)switch(r.nodeType){case 1:var i=r,s;if(!i.msResolved&&i.parentNode&&i.parentNode.nodeType===1){var o=vt(i);if(o){var u=i.localName?i.localName.replace(o+":",""):i.nodeName,a=o+":"+z(u);gi.push({library:o,element:i,fullName:a,widget:u,vmodels:t,name:"widget"}),avalon.components[a]&&avalon.component(a)}}lt(r,t),r.msHasEvent&&avalon.fireDom(r,"datasetchanged",{bubble:r.msHasEvent});break;case 3:Bn.test(r.nodeValue)&&pt(r,t,n)}}function lt(e,t,r){var i=e.getAttribute("ms-skip");if(!e.getAttributeNode)return n("warning "+e.tagName+" no getAttributeNode method");var s=e.getAttributeNode("ms-important"),o=e.getAttributeNode("ms-controller");if(typeof i=="string")return;if(r=s||o){var u=avalon.vmodels[r.value];if(!u)return;t=r===s?[u]:[u].concat(t);var a=r.name;e.removeAttribute(a),avalon(e).removeClass(a),rt(e,u)}ot(e,t)}function ct(e){if(e.indexOf("|")>0){var t=e.replace(di,function(e){return Array(e.length+1).join("1")}),n=t.replace(ci,"ᄢ㍄").indexOf("|");if(n>-1)return{type:"text",filters:e.slice(n).trim(),expr:e.slice(0,n)}}return{type:"text",expr:e,filters:""}}function ht(e){var t=[],n,r=0,i;do{i=e.indexOf(Pn,r);if(i===-1)break;n=e.slice(r,i),n&&t.push({expr:n}),r=i+Pn.length,i=e.indexOf(Hn,r);if(i===-1)break;n=e.slice(r,i),n&&t.push(ct(n,r)),r=i+Hn.length}while(1);return n=e.slice(r),n&&t.push({expr:n}),t}function pt(e,t,n){var r=[],i=ht(e.data);if(i.length){for(var s=0,o;o=i[s++];){var u=Wt.createTextNode(o.expr);o.type&&(o.expr=o.expr.replace(Gr,function(){return o.oneTime=!0,""}),o.element=u,o.filters=o.filters.replace(li,function(){return o.type="html",""}),o.pos=n*1e3+s,r.push(o)),ln.appendChild(u)}e.parentNode.replaceChild(ln,e),r.length&&it(r,t)}}function dt(e,t){if(t)for(var n=0,r;r=e[n++];)if(r.hasOwnProperty(t)&&typeof r[t]=="object"){var i=r[t];return i.$model||i}return{}}function vt(e){if(e.scopeName&&e.scopeName!=="HTML")return e.scopeName;var t=e.nodeName.toLowerCase(),n=t.indexOf(":");if(n>0)return t.slice(0,n)}function mt(e){return e==null?"":e}function gt(e,t,n){return t.param.replace(Yt,function(r){var i=avalon.duplexHooks[r];i&&typeof i[n]=="function"&&(e=i[n](e,t))}),e}function yt(){for(var e=Oi.length-1;e>=0;e--){var t=Oi[e];t()===!1&&Oi.splice(e,1)}Oi.length||clearInterval(Ai)}function bt(e,t,n){if(e.setSelectionRange)t=e.selectionStart,n=e.selectionEnd;else if(document.selection&&document.selection.createRange){var r=document.selection.createRange();t=0-r.duplicate().moveStart("character",-1e5),n=t+r.text.length}return{start:t,end:n}}function wt(e,t,n){if(!e.value||e.readOnly)return;if(e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}function Et(e,t){if(!e||e.nodeType!==1)return null;if(t)var n=t.effectName,r=t.effectDriver;else n=e.getAttribute("data-effect-name"),r=e.getAttribute("data-effect-driver");if(!n||!r)return null;var i=Fi.pop()||new Tt;return i.el=e,i.driver=r,i.useCss=r!=="j",i.useCss&&(t&&avalon(e).addClass(t.effectClass),i.cssEvent=r==="t"?Pi:Hi),i.name=n,i.callbacks=avalon.effects[n]||{},i}function St(e,t){var n=e.getAttribute("data-effect-name");if(n){t.effectName=n,t.effectDriver=e.getAttribute("data-effect-driver");var r=+e.getAttribute("data-effect-stagger");t.effectLeaveStagger=+e.getAttribute("data-effect-leave-stagger")||r,t.effectEnterStagger=+e.getAttribute("data-effect-enter-stagger")||r,t.effectClass=e.className||NaN}}function xt(e){return e.replace(/^[\S]/g,function(e){return e.toUpperCase()})}function Tt(){}function Nt(e,t){var n=e.callbacks[t+"Class"];return typeof n=="string"?n:typeof n=="function"?n():e.name+"-"+t}function Ct(e,t,n){var r=e.callbacks[t];r&&r.call(e,e.el,n)}function kt(e,t,n){var r=e.templateCache&&e.templateCache[t];if(r){var i=Wt.createDocumentFragment(),s;while(s=r.firstChild)i.appendChild(s);return i}return avalon.parseHTML(n)}function Lt(e){var t=Wt.createDocumentFragment();for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n]);return t}function At(e,t,n){for(var r=0,s;s=e[r++];)s.className===n.effectClass&&avalon.effect.apply(s,t,i,i,n)}function Ot(e,t,n){return e?setTimeout(t,++n*e):t(),n}function Mt(e,t){var n=ln.cloneNode(!1),r=e,s=r.nodeValue,o=t&&Math.max(+t.staggerIndex,0),u=avalon.slice(r.parentNode.childNodes),a=u.indexOf(r);for(;;){var f=u[--a];if(!f||String(f.nodeValue).indexOf(s)===0)break;t&&f.className===t.effectClass?(e=f,function(e){t.staggerIndex=Ot(t.effectLeaveStagger,function(){avalon.effect.apply(e,0,i,function(){n.appendChild(e)},t)},o)}(f)):n.insertBefore(f,n.firstChild)}return n.appendChild(r),n}function _t(e,t,n,r,i){var s=e.template.cloneNode(!0),o=avalon.slice(s.childNodes);s.appendChild(n.$anchor),i&&t.appendChild(s);var u=[n].concat(e.vmodels),a={nodes:o,vmodels:u,content:s};r.push(a)}function Dt(e){var t=e.xtype==="object"?jt:Pt,n=t(e),r=n.$anchor||(n.$anchor=e.element.cloneNode(!1));return r.nodeValue=e.signature,n.$outer=e.$outer,n}function Pt(e,t){var n=e.param||"el";for(var r=0,i=$i.length;r<i;r++){var s=$i[r];if(s&&s.hasOwnProperty(n)){$i.splice(r,1),t=s;break}}return t||(t=Ht(n)),t}function Ht(e){var t={$outer:{},$index:0,$oldIndex:0,$anchor:null,$first:!1,$last:!1,$remove:avalon.noop};t[e]=NaN;var n={$last:1,$first:1,$index:1};n[e]=1;var r=w(t,{force:n});return r.$id=pn("$proxy$each"),r}function Bt(e,t,n){if(n==="array"){e.$remove=function(){t.$repeat.removeAt(e.$index)};var r=t.param;e.$watch(r,function(n){var r=e.$index;t.$repeat[r]=n})}else e.$watch("$val",function(n){t.$repeat[e.$key]=n})}function jt(){return Ji.pop()||Ft()}function Ft(){var e=w({$key:"",$val:NaN,$index:0,$oldIndex:0,$outer:{},$anchor:null},{force:{$key:1,$val:1,$index:1}});return e.$id=pn("$proxy$with"),e}function It(e,t,n){var r=e[t];if(r){var i=r.$id.indexOf("$proxy$each")===0?$i:Ji;r.$outer={};for(var s in r.$events){var o=r.$events[s];Array.isArray(o)&&(o.length=0,s===n?r[n]=NaN:s==="$val"&&(r.$val=NaN))}i.unshift(r)>d.maxRepeatSize&&i.pop(),delete e[t]}}function qt(e,t){var n="_"+e;if(!qt[n]){var r=Wt.createElement(e);fn.appendChild(r),an?t=getComputedStyle(r,null).display:t=r.currentStyle.display,fn.removeChild(r),qt[n]=t}return qt[n]}function Rt(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+e)?+e:0,s=isFinite(+t)?Math.abs(t):3,o=r||",",u=n||".",a="",f=function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)};return a=(s?f(i,s):""+Math.round(i)).split("."),a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(a[1]||"").length<s&&(a[1]=a[1]||"",a[1]+=(new Array(s-a[1].length+1)).join("0")),a.join(u)}function Ut(){try{fn.doScroll("left"),is()}catch(e){setTimeout(Ut)}}var zt=new Date-0,Wt=e.document,Xt=Wt.getElementsByTagName("head")[0],Vt=Xt.insertBefore(document.createElement("avalon"),Xt.firstChild);Vt.innerHTML="X<style id='avalonStyle'>.avalonHide{ display: none!important }</style>",Vt.setAttribute("ms-skip","1"),Vt.className="avalonHide";var $t=/\[native code\]/,Jt="$"+zt,Kt=!1,Qt={},Gt=/[^, ]+/g,Yt=/\w+/g,Zt=/^(?:object|array)$/,en=/^\[object SVG\w*Element\]$/,tn=/^\[object (?:Window|DOMWindow|global)\]$/,nn=Object.prototype,rn=nn.hasOwnProperty,sn=nn.toString,on=Array.prototype,un=on.slice,an=e.dispatchEvent,fn=Wt.documentElement,ln=Wt.createDocumentFragment(),cn=Wt.createElement("div"),hn={};"Boolean Number String Function Array Date RegExp Object Error".replace(Gt,function(e){hn["[object "+e+"]"]=e.toLowerCase()});var pn=function(e){return e=e||"avalon",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)},dn=o();avalon=function(e){return new avalon.init(e)},avalon.nextTick=new function(){function t(){var e=i.length;for(var t=0;t<e;t++)i[t]();i=i.slice(e)}var n=e.setImmediate,r=e.MutationObserver;if(n)return n.bind(e);var i=[];if(r){var s=document.createTextNode("avalon");(new r(t)).observe(s,{characterData:!0});var o=!1;return function(e){i.push(e),o=!o,s.data=o}}return function(e){setTimeout(e,4)}},avalon.init=function(e){this[0]=this.element=e},avalon.fn=avalon.prototype=avalon.init.prototype,avalon.type=function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?hn[sn.call(e)]||"object":typeof e};var vn=typeof alert=="object"?function(e){try{return/^\s*\bfunction\b/.test(e+"")}catch(t){return!1}}:function(e){return sn.call(e)==="[object Function]"};avalon.isFunction=vn,avalon.isWindow=function(e){return e?e==e.document&&e.document!=e:!1},u(e)&&(avalon.isWindow=u);var mn;for(mn in avalon({}))break;var gn=mn!=="0";avalon.isPlainObject=function(e,t){if(!e||avalon.type(e)!=="object"||e.nodeType||avalon.isWindow(e))return!1;try{if(e.constructor&&!rn.call(e,"constructor")&&!rn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(gn)for(t in e)return rn.call(e,t);for(t in e);return t===void 0||rn.call(e,t)},$t.test(Object.getPrototypeOf)&&(avalon.isPlainObject=function(e){return sn.call(e)==="[object Object]"&&Object.getPrototypeOf(e)===nn}),avalon.mix=avalon.fn.mix=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[1]||{},u++),typeof o!="object"&&!vn(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t];try{r=e[t]}catch(l){continue}if(o===r)continue;f&&r&&(avalon.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,s=n&&Array.isArray(n)?n:[]):s=n&&avalon.isPlainObject(n)?n:{},o[t]=avalon.mix(f,s,r)):r!==void 0&&(o[t]=r)}return o},avalon.mix({rword:Gt,subscribers:Jt,version:1.54,ui:{},log:n,slice:an?function(e,t,n){return un.call(e,t,n)}:function(e,t,n){var r=[],i=e.length;n===void 0&&(n=i);if(typeof n=="number"&&isFinite(n)){t=a(t,i),n=a(n,i);for(var s=t;s<n;++s)r[s-t]=e[s]}return r},noop:i,error:function(e,t){throw(t||Error)(e)},oneObject:s,range:function(e,t,n){n||(n=1),t==null&&(t=e||0,e=0);var r=-1,i=Math.max(0,Math.ceil((t-e)/n)),s=new Array(i);while(++r<i)s[r]=e,e+=n;return s},eventHooks:{},bind:function(e,t,n,r){var i=avalon.eventHooks,s=i[t];typeof s=="object"&&(t=s.type||t,r=s.phase||!!r,n=s.fn?s.fn(e,n):n);var o=an?n:function(t){n.call(e,p(t))};return an?e.addEventListener(t,o,r):e.attachEvent("on"+t,o),o},unbind:function(e,t,n,r){var s=avalon.eventHooks,o=s[t],u=n||i;typeof o=="object"&&(t=o.type||t,r=o.phase||!!r),an?e.removeEventListener(t,u,r):e.detachEvent("on"+t,u)},css:function(e,t,n){e instanceof avalon&&(e=e[0]);var r=/[_-]/.test(t)?z(t):t,i;t=avalon.cssName(r)||r;if(n===void 0||typeof n=="boolean"){i=Er[r+":get"]||Er["@:get"],t==="background"&&(t="backgroundColor");var s=i(e,t);return n===!0?parseFloat(s)||0:s}if(n==="")e.style[t]="";else{if(n==null||n!==n)return;isFinite(n)&&!avalon.cssNumber[r]&&(n+="px"),i=Er[r+":set"]||Er["@:set"],i(e,t,n)}},each:function(e,t){if(e){var n=0;if(f(e)){for(var r=e.length;n<r;n++)if(t(n,e[n])===!1)break}else for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)break}},getWidgetData:function(e,t){var n=avalon(e).data(),r={};for(var i in n)i.indexOf(t)===0&&(r[i.replace(t,"").replace(/\w/,function(e){return e.toLowerCase()})]=n[i]);return r},Array:{ensure:function(e,t){if(e.indexOf(t)===-1)return e.push(t)},removeAt:function(e,t){return!!e.splice(t,1).length},remove:function(e,t){var n=e.indexOf(t);return~n?avalon.Array.removeAt(e,n):!1}}});var yn=avalon.bindingHandlers={},bn=avalon.bindingExecutors={},wn=avalon.directives={};avalon.directive=function(e,t){return yn[e]=t.init=t.init||i,bn[e]=t.update=t.update||i,wn[e]=t};var En=new function(){function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}var t=e.prototype;return t.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},t.shift=function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0,delete this._keymap[e.key])},t.get=function(e){var t=this._keymap[e];if(t===void 0)return;return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value)},e};if(!"司徒正美".trim){var Sn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(Sn,"")}}var xn=!{toString:null}.propertyIsEnumerable("toString"),Tn=function(){}.propertyIsEnumerable("prototype"),Nn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Cn=Nn.length;Object.keys||(Object.keys=function(e){var t=[],n=Tn&&typeof e=="function";if(typeof e=="string"||e&&e.callee)for(var r=0;r<e.length;++r)t.push(String(r));else for(var i in e)(!n||i!=="prototype")&&rn.call(e,i)&&t.push(String(i));if(xn){var s=e.constructor,o=s&&s.prototype===e;for(var u=0;u<Cn;u++){var a=Nn[u];(!o||a!=="constructor")&&rn.call(e,a)&&t.push(a)}}return t}),Array.isArray||(Array.isArray=function(e){return sn.call(e)==="[object Array]"}),i.bind||(Function.prototype.bind=function(e){if(arguments.length<2&&e===void 0)return this;var t=this,n=arguments;return function(){var r=[],i;for(i=1;i<n.length;i++)r.push(n[i]);for(i=0;i<arguments.length;i++)r.push(arguments[i]);return t.apply(e,r)}}),$t.test([].map)||avalon.mix(on,{indexOf:function(e,t){var n=this.length,r=~~t;r<0&&(r+=n);for(;r<n;r++)if(this[r]===e)return r;return-1},lastIndexOf:function(e,t){var n=this.length,r=t==null?n-1:t;r<0&&(r=Math.max(0,n+r));for(;r>=0;r--)if(this[r]===e)return r;return-1},forEach:l("","_",""),filter:l("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:l("r=[],","r[i]=_","return r"),some:l("","if(_)return true","return false"),every:l("","if(!_)return false","return true")}),avalon.contains=c,Wt.contains||(Wt.contains=function(e){return c(Wt,e)});if(e.SVGElement){Wt.createTextNode("x").contains||(Node.prototype.contains=function(e){return!!(this.compareDocumentPosition(e)&16)});var kn="http://www.w3.org/2000/svg",Ln=Wt.createElementNS(kn,"svg");Ln.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />';if(!en.test(Ln.firstChild)){function An(e,t){if(e&&e.childNodes){var n=e.childNodes;for(var r=0,i;i=n[r++];)if(i.tagName){var s=Wt.createElementNS(kn,i.tagName.toLowerCase());on.forEach.call(i.attributes,function(e){s.setAttribute(e.name,e.value)}),An(i,s),t.appendChild(s)}}}Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:h,set:function(e){var t=this.tagName.toLowerCase(),n=this.parentNode,r=avalon.parseHTML(e);if(t==="svg")n.insertBefore(r,this);else{var i=Wt.createDocumentFragment();An(r,i),n.insertBefore(i,this)}n.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){var e=this.outerHTML,t=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),n=new RegExp("</"+this.nodeName+">$","i");return e.replace(t,"").replace(n,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var t=avalon.parseHTML(e);An(t,this)}}}})}}!fn.outerHTML&&e.HTMLElement&&HTMLElement.prototype.__defineGetter__("outerHTML",h);var On=/^(?:mouse|contextmenu|drag)|click/,Mn=avalon.eventHooks;"onmouseenter"in fn||avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Mn[e]={type:t,fn:function(t,n){return function(r){var i=r.relatedTarget;if(!i||i!==t&&!(t.compareDocumentPosition(i)&16))return delete r.type,r.type=e,n.call(t,r)}}}}),avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(t,n){e[t]&&!Mn.animationend&&(Mn.animationend={type:n})}),"oninput"in Wt.createElement("input")||(Mn.input={type:"propertychange",deel:function(e,t){return function(n){if(n.propertyName==="value")return n.type="input",t.call(e,n)}}});if(Wt.onmousewheel===void 0){var _n=Wt.onwheel!==void 0?"wheel":"DOMMouseScroll",Dn=_n==="wheel"?"deltaY":"detail";Mn.mousewheel={type:_n,fn:function(e,t){return function(n){n.wheelDeltaY=n.wheelDelta=n[Dn]>0?-120:120,n.wheelDeltaX=0,Object.defineProperty&&Object.defineProperty(n,"type",{value:"mousewheel"}),t.call(e,n)}}}}var Pn,Hn,Bn,jn,Fn,In=/[-.*+?^${}()|[\]\/\\]/g,qn={interpolate:function(e){Pn=e[0],Hn=e[1];if(Pn===Hn){throw new SyntaxError("openTag!==closeTag");var t}d.openTag=Pn,d.closeTag=Hn;var n=v(Pn),r=v(Hn);Bn=new RegExp(n+"(.*?)"+r),jn=new RegExp(n+"(.*?)"+r,"g"),Fn=new RegExp(n+".*?"+r+"|\\sms-")}};d.async=!0,d.debug=!0,d.plugins=qn,d.plugins.interpolate(["{{","}}"]),d.paths={},d.shim={},d.maxRepeatSize=100,avalon.config=d;var Rn=avalon.vmodels={};avalon.define=function(e){var t=e.$id;t||n("warning: vm必须指定$id");var r=w(e);return r.$id=t,Rn[t]=r};var Un=s("$id,$watch,$fire,$events,$model,$skipArray,$active,$pathname,$up,$track,$accessors,$ups"),zn=Object.defineProperty,Wn=!0;try{zn({},"_",{value:"x"});var Xn=Object.defineProperties}catch(Vn){Wn=!1}var $n=$t.test(Object.key)?Object.key:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&!Un[n]&&t.push(n);return t},Jn={get:function(){return L(this)},set:i,enumerable:!1,configurable:!0};if(!Wn){"__defineGetter__"in avalon&&(zn=function(e,t,n){return"value"in n&&(e[t]=n.value),"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),e},Xn=function(e,t){for(var n in t)t.hasOwnProperty(n)&&zn(e,n,t[n]);return e});if(dn){var Kn={};e.execScript(["Function parseVB(code)","	ExecuteGlobal(code)","End Function"].join("\n"),"VBScript");function Qn(e,t,n,r){var i=t[n];if(arguments.length!==4)return i.get.call(e);i.set.call(e,r)}Xn=function(t,n,r){var i=[];i.push("\r\n	Private [__data__], [__proxy__]","	Public Default Function [__const__](d"+zt+", p"+zt+")","		Set [__data__] = d"+zt+": set [__proxy__] = p"+zt,"		Set [__const__] = Me","	End Function");var s={};for(t in n)s[t]=!0,i.push("	Public Property Let ["+t+"](val"+zt+")",'		Call [__proxy__](Me,[__data__], "'+t+'", val'+zt+")","	End Property","	Public Property Set ["+t+"](val"+zt+")",'		Call [__proxy__](Me,[__data__], "'+t+'", val'+zt+")","	End Property","	Public Property Get ["+t+"]","	On Error Resume Next","		Set["+t+'] = [__proxy__](Me,[__data__],"'+t+'")',"	If Err.Number <> 0 Then","		["+t+'] = [__proxy__](Me,[__data__],"'+t+'")',"	End If","	On Error Goto 0","	End Property");for(t in r)s[t]!==!0&&(s[t]=!0,i.push("	Public ["+t+"]"));for(t in Un)s[t]!==!0&&(s[t]=!0,i.push("	Public ["+t+"]"));i.push("	Public [hasOwnProperty]"),i.push("End Class");var o=i.join("\r\n"),u=Kn[o];u||(u=pn("VBClass"),e.parseVB("Class "+u+o),e.parseVB(["Function "+u+"Factory(a, b)","	Dim o","	Set o = (New "+u+")(a, b)","	Set "+u+"Factory = o","End Function"].join("\r\n")),Kn[o]=u);var a=e[u+"Factory"](n,Qn);return a}}}var Gn=["push","pop","shift","unshift","splice"],Yn=Array.prototype,Zn={notify:function(){g.call(this.$up,this.$pathname)},set:function(e,t){if(e>>>0===e&&this[e]!==t){if(e>this.length)throw Error(e+"set方法的第一个参数不能大于原数组长度");g.call(this.$up,this.$pathname+".*",[t,this[e]]),this.splice(e,1,t)}},contains:function(e){return this.indexOf(e)!==-1},ensure:function(e){return this.contains(e)||this.push(e),this},pushArray:function(e){return this.push.apply(this,e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){return e>>>0===e?this.splice(e,1):[]},size:function(){return this._.length},removeAll:function(e){if(Array.isArray(e))for(var t=this.length-1;t>=0;t--)e.indexOf(this[t])!==-1&&(er.call(this.$track,t,1),er.call(this,t,1));else if(typeof e=="function")for(t=this.length-1;t>=0;t--){var n=this[t];e(n,t)&&(er.call(this.$track,t,1),er.call(this,t,1))}else er.call(this.$track,0,this.length),er.call(this,0,this.length);an||(this.$model=L(this)),this.notify(),this._.length=this.length},clear:function(){return this.removeAll()}},er=Yn.splice;Gn.forEach(function(e){var t=Yn[e];Zn[e]=function(){var n=[];for(var r=0,i=arguments.length;r<i;r++)n[r]=N(arguments[r],0,1,1);var s=t.apply(this,n);return M(this.$track,e,n),an||(this.$model=L(this)),this.notify(),this._.length=this.length,s}}),"sort,reverse".replace(Gt,function(e){Zn[e]=function(){var t=this.concat(),n=this,r=Math.random(),i=[],s=!1;Yn[e].apply(n,arguments);for(var o=0,u=t.length;o<u;o++){var a=n[o],f=t[o];if(a===f)i.push(o);else{var l=t.indexOf(a);i.push(l),t[l]=r,s=!0}}return s&&(A(this.$track,i),an||(this.$model=L(this)),this.notify()),this}});var tr=function(){var e=[],t;return{begin:function(n){e.push(t),t=n},end:function(){t=e.pop()},collectDependency:function(e){t&&t.callback(e)}}}(),nr=/^on$/;avalon.injectBinding=function(e){e.handler=e.handler||wn[e.type].update||i,e.update=function(){var t=!1;e.getter||(t=!0,tr.begin({callback:function(t){D(t,e)}}),e.getter=Z(e.expr,e.vmodels,e),e.observers.forEach(function(t){t.v.$watch(t.p,e)}),delete e.observers);try{var r=e.fireArgs,i,s;delete e.fireArgs,r?(i=r[0],s=r[1]):e.type==="on"?i=e.getter+"":i=e.getter.apply(0,e.args),s=typeof s=="undefined"?e.oldValue:s,e._filters&&(i=ts.$filter.apply(0,[i].concat(e._filters)));if(e.signature){var o=avalon.type(i);if(o!=="array"&&o!=="object")throw Error("warning:"+e.expr+"只能是对象或数组");e.xtype=o;var u=P(e.proxies||[],o),a=i.$track||(o==="array"?O(i.length):Object.keys(i));e.track=a,u!==a.join(";")&&(e.handler(i,s),e.oldValue=1)}else if(Array.isArray(i)?i.length!==(s&&s.length):!1)e.handler(i,s),e.oldValue=i.concat();else if(!("oldValue"in e)||i!==s)e.handler(i,s),e.oldValue=i}catch(f){delete e.getter,n("warning:exception throwed in [avalon.injectBinding] ",f);var l=e.element;l&&l.nodeType===3&&(l.nodeValue=Pn+(e.oneTime?"::":"")+e.expr+Hn)}finally{t&&tr.end()}},e.update()};var rr=0,ir=avalon.$$subscribers=[],sr=new Date,or={},ur={area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],col:[2,"<table><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table>","</table>"],td:[3,"<table><tr>","</tr></table>"],g:[1,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',"</svg>"],_default:an?[0,"",""]:[1,"X<div>","</div>"]};ur.th=ur.td,ur.optgroup=ur.option,ur.tbody=ur.tfoot=ur.colgroup=ur.caption=ur.thead,String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(Gt,function(e){ur[e]=ur.g});var ar=/<([\w:]+)/,fr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,lr=an?/[^\d\D]/:/(<(?:script|link|style|meta|noscript))/ig,cr=s(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]),hr=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/,pr=Wt.createElement("script"),dr=/<|&#?\w+;/;avalon.parseHTML=function(e){var t=ln.cloneNode(!1);if(typeof e!="string")return t;if(!dr.test(e))return t.appendChild(Wt.createTextNode(e)),t;e=e.replace(fr,"<$1></$2>").trim();var n=(ar.exec(e)||["",""])[1].toLowerCase(),r=ur[n]||ur._default,i=cn,s,o;an||(e=e.replace(lr,"<br class=msNoScope>$1")),i.innerHTML=r[1]+e+r[2];var u=i.getElementsByTagName("script");if(u.length)for(var a=0,f;f=u[a++];)cr[f.type]&&(o=pr.cloneNode(!1),on.forEach.call(f.attributes,function(e){e&&e.specified&&(o[e.name]=e.value,o.setAttribute(e.name,e.value))}),o.text=f.text,f.parentNode.replaceChild(o,f));if(!an){var l=r[1]==="X<div>"?i.lastChild.firstChild:i.lastChild;if(l&&l.tagName==="TABLE"&&n!=="tbody")for(u=l.childNodes,a=0;f=u[a++];)if(f.tagName==="TBODY"&&!f.innerHTML){l.removeChild(f);break}u=i.getElementsByTagName("br");var c=u.length;while(f=u[--c])f.className==="msNoScope"&&f.parentNode.removeChild(f);for(u=i.all,a=0;f=u[a++];)q(f)&&R(f)}for(a=r[0];a--;i=i.lastChild);while(s=i.firstChild)t.appendChild(s);return t},avalon.innerHTML=function(e,t){if(!an&&!lr.test(t)&&!hr.test(t))try{e.innerHTML=t;return}catch(n){}var r=this.parseHTML(t);this.clearHTML(e).appendChild(r)},avalon.clearHTML=function(e){e.textContent="";while(e.firstChild)e.removeChild(e.firstChild);return e};var vr={_toString:function(){var e=this.node,t=e.className,n=typeof t=="string"?t:t.baseVal;return n.split(/\s+/).join(" ")},_contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},_add:function(e){this.contains(e)||this._set(this+" "+e)},_remove:function(e){this._set((" "+this+" ").replace(" "+e+" "," "))},__set:function(e){e=e.trim();var t=this.node;en.test(t)?t.setAttribute("class",e):t.className=e}};"add,remove".replace(Gt,function(e){avalon.fn[e+"Class"]=function(t){var n=this[0];return t&&typeof t=="string"&&n&&n.nodeType===1&&t.replace(/\S+/g,function(t){W(n)[e](t)}),this}}),avalon.fn.mix({hasClass:function(e){var t=this[0]||{};return t.nodeType===1&&W(t).contains(e)},toggleClass:function(e,t){var n,r=0,i=String(e).split(/\s+/),s=typeof t=="boolean";while(n=i[r++]){var o=s?t:!this.hasClass(n);this[o?"addClass":"removeClass"](n)}return this},attr:function(e,t){return arguments.length===2?(this[0].setAttribute(e,t),this):this[0].getAttribute(e)},data:function(e,t){e="data-"+U(e||"");switch(arguments.length){case 2:return this.attr(e,t),this;case 1:var n=this.attr(e);return X(n);case 0:var r={};return on.forEach.call(this[0].attributes,function(t){t&&(e=t.name,e.indexOf("data-")||(e=z(e.slice(5)),r[e]=X(t.value)))}),r}},removeData:function(e){return e="data-"+U(e),this[0].removeAttribute(e),this},css:function(e,t){if(avalon.isPlainObject(e))for(var n in e)avalon.css(this,n,e[n]);else var r=avalon.css(this,e,t);return r!==void 0?r:this},position:function(){var e,t,n=this[0],r={top:0,left:0};if(!n)return;return this.css("position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),e[0].tagName!=="HTML"&&(r=e.offset()),r.top+=avalon.css(e[0],"borderTopWidth",!0),r.left+=avalon.css(e[0],"borderLeftWidth",!0),r.top-=e.scrollTop(),r.left-=e.scrollLeft()),{top:t.top-r.top-avalon.css(n,"marginTop",!0),left:t.left-r.left-avalon.css(n,"marginLeft",!0)}},offsetParent:function(){var e=this[0].offsetParent;while(e&&avalon.css(e,"position")==="static")e=e.offsetParent;return avalon(e||fn)},bind:function(e,t,n){if(this[0])return avalon.bind(this[0],e,t,n)},unbind:function(e,t,n){return this[0]&&avalon.unbind(this[0],e,t,n),this},val:function(e){var t=this[0];if(t&&t.nodeType===1){var n=arguments.length===0,r=n?":get":":set",i=Dr[J(t)+r];if(i)var s=i(t,e);else{if(n)return(t.value||"").replace(/\r/g,"");t.value=e}}return n?s:this}});var mr=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gr=/^[\],:{}\s]*$/,yr=/(?:^|:|,)(?:\s*\[)+/g,br=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,wr=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;avalon.parseJSON=e.JSON?JSON.parse:function(e){if(typeof e=="string"){e=e.trim();if(e&&gr.test(e.replace(br,"@").replace(wr,"]").replace(yr,"")))return(new Function("return "+e))();avalon.error("Invalid JSON: "+e)}return e},avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){avalon.fn[e]=function(n){var r=this[0]||{},i=V(r),s=e==="scrollTop";if(!arguments.length)return i?t in i?i[t]:fn[e]:r[e];i?i.scrollTo(s?avalon(i).scrollLeft():n,s?n:avalon(i).scrollTop()):r[e]=n}});var Er=avalon.cssHooks={},Sr=["","-webkit-","-o-","-moz-","-ms-"],xr={"float":an?"cssFloat":"styleFloat"};avalon.cssNumber=s("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),avalon.cssName=function(e,t,n){if(xr[e])return xr[e];t=t||fn.style;for(var r=0,i=Sr.length;r<i;r++){n=z(Sr[r]+e);if(n in t)return xr[e]=n}return null},Er["@:set"]=function(e,t,n){try{e.style[t]=n}catch(r){}};if(e.getComputedStyle)Er["@:get"]=function(e,t){if(!e||!e.style)throw new Error("getComputedStyle要求传入一个节点 "+e);var n,r=getComputedStyle(e,null);return r&&(n=t==="filter"?r.getPropertyValue(t):r[t],n===""&&(n=e.style[t])),n},Er["opacity:get"]=function(e){var t=Er["@:get"](e,"opacity");return t===""?"1":t};else{var Tr=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Nr=/^(top|right|bottom|left)$/,Cr=/alpha\([^)]*\)/i,kr=!!e.XDomainRequest,Lr="DXImageTransform.Microsoft.Alpha",Ar={thin:kr?"1px":"2px",medium:kr?"3px":"4px",thick:kr?"5px":"6px"};Er["@:get"]=function(e,t){var n=e.currentStyle,r=n[t];if(Tr.test(r)&&!Nr.test(r)){var i=e.style,s=i.left,o=e.runtimeStyle.left;e.runtimeStyle.left=n.left,i.left=t==="fontSize"?"1em":r||0,r=i.pixelLeft+"px",i.left=s,e.runtimeStyle.left=o}return r==="medium"&&(t=t.replace("Width","Style"),n[t]==="none"&&(r="0px")),r===""?"auto":Ar[r]||r},Er["opacity:set"]=function(e,t,n){var r=e.style,i=isFinite(n)&&n<=1?"alpha(opacity="+n*100+")":"",s=r.filter||"";r.zoom=1,r.filter=(Cr.test(s)?s.replace(Cr,i):s+" "+i).trim(),r.filter||r.removeAttribute("filter")},Er["opacity:get"]=function(e){var t=e.filters.alpha||e.filters[Lr],n=t&&t.enabled?t.opacity:100;return n/100+""}}"top,left".replace(Gt,function(e){Er[e+":get"]=function(t){var n=Er["@:get"](t,e);return/px$/.test(n)?n:avalon(t).position()[e]+"px"}});var Or={position:"absolute",visibility:"hidden",display:"block"},Mr=/^(none|table(?!-c[ea]).+)/;"Width,Height".replace(Gt,function(e){var t=e.toLowerCase(),n="client"+e,r="scroll"+e,i="offset"+e;Er[t+":get"]=function(t,n,r){var s=-4;typeof r=="number"&&(s=r),n=e==="Width"?["Left","Right"]:["Top","Bottom"];var o=t[i];return s===2?o+avalon.css(t,"margin"+n[0],!0)+avalon.css(t,"margin"+n[1],!0):(s<0&&(o=o-avalon.css(t,"border"+n[0]+"Width",!0)-avalon.css(t,"border"+n[1]+"Width",!0)),s===-4&&(o=o-avalon.css(t,"padding"+n[0],!0)-avalon.css(t,"padding"+n[1],!0)),o)},Er[t+"&get"]=function(e){var n=[];$(e,n);var r=Er[t+":get"](e);for(var i=0,s;s=n[i++];){e=s.node;for(var o in s)typeof s[o]=="string"&&(e.style[o]=s[o])}return r},avalon.fn[t]=function(s){var o=this[0];if(arguments.length===0){if(o.setTimeout)return o["inner"+e]||o.document.documentElement[n]||o.document.body[n];if(o.nodeType===9){var u=o.documentElement;return Math.max(o.body[r],u[r],o.body[i],u[i],u[n])}return Er[t+"&get"](o)}return this.css(t,s)},avalon.fn["inner"+e]=function(){return Er[t+":get"](this[0],void 0,-2)},avalon.fn["outer"+e]=function(e){return Er[t+":get"](this[0],void 0,e===!0?2:0)}}),avalon.fn.offset=function(){var e=this[0],t={left:0,top:0};if(!e||!e.tagName||!e.ownerDocument)return t;var n=e.ownerDocument,r=n.body,i=n.documentElement,s=n.defaultView||n.parentWindow;if(!avalon.contains(i,e))return t;e.getBoundingClientRect&&(t=e.getBoundingClientRect());var o=i.clientTop||r.clientTop,u=i.clientLeft||r.clientLeft,a=Math.max(s.pageYOffset||0,i.scrollTop,r.scrollTop),f=Math.max(s.pageXOffset||0,i.scrollLeft,r.scrollLeft);return{top:t.top+a-o,left:t.left+f-u}};var _r=/^<option(?:\s+\w+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s+value[\s=]/i,Dr={"option:get":dn?function(e){return _r.test(e.outerHTML)?e.value:e.text.trim()}:function(e){return e.value},"select:get":function(e,t){var n,r=e.options,i=e.selectedIndex,s=Dr["option:get"],o=e.type==="select-one"||i<0,u=o?null:[],a=o?i+1:r.length,f=i<0?a:o?i:0;for(;f<a;f++){n=r[f];if((n.selected||f===i)&&!n.disabled){t=s(n);if(o)return t;u.push(t)}}return u},"select:set":function(e,t,n){t=[].concat(t);var r=Dr["option:get"];for(var i=0,s;s=e.options[i++];)if(s.selected=t.indexOf(r(s))>-1)n=!0;n||(e.selectedIndex=-1)}},Pr={},Hr=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(",");Hr.replace(/\w+/g,function(e){Pr[e]=!0});var Br=/[a-z_$]/i,jr=/[\s\uFEFF\xA0]/,Fr=/(\$proxy\$[a-z]+)\d+$/,Ir=new En(218),qr=new En(128);avalon.parseExprProxy=Z;var Rr=/\)\s*$/,Ur=/\)\s*\|/g,zr=/\|\s*([$\w]+)/g,Wr=/"\s*\["/g,Xr=/"\s*\(/g,Vr={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},$r=e.JSON&&JSON.stringify||function(e){return'"'+e.replace(/[\\\"\x00-\x1f]/g,function(e){var t=Vr[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'};avalon.scan=function(e,t){e=e||fn;var n=t?[].concat(t):[];lt(e,n)};var Jr=s("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase()),Kr=function(e,t,n){var r=e.getAttribute(t);if(r)for(var i=0,s;s=n[i++];)if(s.hasOwnProperty(r)&&typeof s[r]=="function")return s[r]},Qr=dn&&e.MutationObserver?function(e){var t=e.firstChild,n;while(t){var r=t.nextSibling;t.nodeType===3?n?(n.nodeValue+=t.nodeValue,e.removeChild(t)):n=t:n=null,t=r}}:0,Gr=/^\s*::/,Yr=/ms-(\w+)-?(.*)/,Zr=s("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit"),ei=s("value,title,alt,checked,selected,disabled,readonly,enabled,href,src"),ti=/^if|widget|repeat$/,ni=/^each|with|html|include$/;if(!an)var ri=new En(512),ii=/\s+([^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,si=/^['"]/,oi=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/i,ui=/&amp;/g,ai=function(e){var t=e.outerHTML;if(t.slice(0,2)==="</"||!t.trim())return[];var n=t.match(oi)[0],r=[],i,s,o=ri.get(n);if(o)return o;while(i=ii.exec(n)){s=i[2],s&&(s=(si.test(s)?s.slice(1,-1):s).replace(ui,"&"));var u=i[1].toLowerCase();match=u.match(Yr);var a={name:u,specified:!0,value:s||""};r.push(a)}return ri.put(n,r)};var fi=/^(ms-\S+|data-\S+|on[a-z]+|id|style|class|tabindex)$/,li=/\|\s*html(?:\b|$)/,ci=/\|\|/g,hi=/&lt;/g,pi=/&gt;/g,di=/(['"])(\\\1|.)+?\1/g,vi=function(){this.queue=[]};vi.prototype={render:function(e){if(!this.locked){this.locked=e?fn.offsetHeight+10:1;var t=this;avalon.nextTick(function(){t.flush()})}},flush:function(){for(var e=0,t;t=this.queue[e++];)t.update&&t.update();this.locked=0,this.queue=[]}};var mi=new vi,gi=[],yi=[],bi={$construct:function(){return avalon.mix.apply(null,arguments)},$ready:i,$init:i,$dispose:i,$container:null,$childReady:i,$replace:!1,$extend:null,$$template:function(e){return e}};avalon.components={},avalon.component=function(t,n){n&&(avalon.components[t]=avalon.mix({},bi,n));for(var r=0,i;i=gi[r];r++)t===i.fullName&&(gi.splice(r,1),r--,function(n,r,i,s){var o=1,u=n.library,a=avalon.libraries[u]||bi,f=ut(i),l=dt(n.vmodels,f.config||n.widget),c=f.$id||f.identifier||pn(s);delete f.config,delete f.$id,delete f.identifier;var h={},p=avalon.components[r.$extend];p?(avalon.mix(!0,h,p),h=p.$construct.call(i,h,{},{})):avalon.mix(!0,h,r),h=avalon.components[t].$construct.call(i,h,l,f),h.$refs={},h.$id=c;var d=h.$slot,v=h.$replace,m=h.$container,g=h.$template;delete h.$slot,delete h.$replace,delete h.$container,delete h.$construct;var y=avalon.define(h)||{};i.msResolved=1,y.$init(y,i),a.$init(y,i);var b=i.childNodes,w={},E;for(var S=0,x;x=b[S++];){var T=x.nodeType===1&&x.getAttribute("slot")||d;T&&(w[T]?w[T].push(x):w[T]=[x])}y.$$template&&(avalon.clearHTML(i),i.innerHTML=y.$$template(g));for(S in w)if(y.hasOwnProperty(S)){var N=w[S];if(N.length){var C=ln.cloneNode(!0);for(var k=0;E=N[k++];)C.appendChild(E);y[S]=C}w[S]=null}w=null;var L=i.firstChild;v&&(L=i.firstChild,i.parentNode.replaceChild(L,i),L.msResolved=1,i=n.element=L),m&&m.appendChild(i),avalon.fireDom(i,"datasetchanged",{library:u,vm:y,childReady:1});var A=0,O=avalon.bind(i,"datasetchanged",function(t){t.childReady&&t.library===u&&(o+=t.childReady,y!==t.vm&&(y.$refs[t.vm.$id]=t.vm,t.childReady===-1&&(A++,y.$childReady(y,i,t)),t.stopPropagation()));if(o===0){var r=setTimeout(function(){clearTimeout(r),y.$ready(y,i,n.vmodels),a.$ready(y,i,n.vmodels)},A?Math.max(A*17,100):17);avalon.unbind(i,"datasetchanged",O),n.rollback=function(){try{y.$dispose(y,i),a.$dispose(y,i)}catch(e){}delete avalon.vmodels[y.$id]},B(n,yi),e.chrome&&i.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(j)})}});lt(i,[y].concat(n.vmodels)),avalon.vmodels[y.$id]=y,avalon.log("添加组件VM: "+y.$id);if(!i.childNodes.length)avalon.fireDom(i,"datasetchanged",{library:u,vm:y,childReady:-1});else var M=setTimeout(function(){clearTimeout(M),avalon.fireDom(i,"datasetchanged",{library:u,vm:y,childReady:-1})},17)}(i,avalon.components[t],i.element,i.widget))},avalon.fireDom=function(e,t,n){if(Wt.createEvent){var r=Wt.createEvent("Events");r.initEvent(t,!0,!0,n),avalon.mix(r,n),e.dispatchEvent(r)}else fn.contains(e)&&(r=Wt.createEventObject(),avalon.mix(r,n),e.fireEvent("on"+t,r))},avalon.libraries=[],avalon.library=function(e,t){Wt.namespaces&&Wt.namespaces.add(e,"http://www.w3.org/1999/xhtml"),avalon.libraries[e]=avalon.mix({$init:i,$ready:i,$dispose:i},t||{})},avalon.library("ms");var wi=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(","),Ei={};wi.replace(Gt,function(e){Ei[e.toLowerCase()]=e});var Si={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"},xi=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");xi.replace(Gt,function(e){Si[e.toLowerCase()]=e});var Ti=avalon.directive("attr",{init:function(e){e.expr=et(e.expr.trim());if(e.type==="include"){var t=e.element;St(t,e),e.includeRendered=Kr(t,"data-include-rendered",e.vmodels),e.includeLoaded=Kr(t,"data-include-loaded",e.vmodels);var n=e.includeReplace=!!avalon(t).data("includeReplace");avalon(t).data("includeCache")&&(e.templateCache={}),e.start=Wt.createComment("ms-include"),e.end=Wt.createComment("ms-include-end"),n?(e.element=e.end,e._element=t,t.parentNode.insertBefore(e.start,t),t.parentNode.insertBefore(e.end,t.nextSibling)):(t.insertBefore(e.start,t.firstChild),t.appendChild(e.end))}},update:function(t){var n=this.element,r=this.param;if(r==="href"||r==="src"){typeof t=="string"&&!fn.hasAttribute&&(t=t.replace(/&amp;/g,"&")),n[r]=t;if(e.chrome&&n.tagName==="EMBED"){var i=n.parentNode,s=document.createComment("ms-src");i.replaceChild(s,n),i.replaceChild(n,s)}}else{var o=t===!1||t===null||t===void 0;!an&&Si[r]&&(r=Si[r]);var u=Ei[r];typeof n[u]=="boolean"&&(n[u]=!!t,t||(o=!0));if(o)return n.removeAttribute(r);var a=en.test(n)?!1:Wt.namespaces&&q(n)?!0:r in n.cloneNode(!1);a?n[r]=t+"":n.setAttribute(r,t)}}});"title,alt,src,value,css,include,href".replace(Gt,function(e){wn[e]=Ti}),avalon.directive("class",{init:function(e){var t=e.param,r=e.type;!t||isFinite(t)?(e.param="",wn.effect.init(e)):(n("ms-"+r+'-xxx="yyy"这种用法已经过时,请使用ms-'+r+'="xxx:yyy"'),e.expr="["+$r(t)+","+e.expr+"]",e.oldStyle=t);if(r==="hover"||r==="active"){if(!e.hasBindEvent){var i=e.element,s=avalon(i),o="mouseenter",u="mouseleave";if(r==="active"){i.tabIndex=i.tabIndex||-1,o="mousedown",u="mouseup";var a=s.bind("mouseleave",function(){e.toggleClass&&s.removeClass(e.newClass)})}}var f=s.bind(o,function(){e.toggleClass&&s.addClass(e.newClass)}),l=s.bind(u,function(){e.toggleClass&&s.removeClass(e.newClass)});e.rollback=function(){s.unbind("mouseleave",a),s.unbind(o,f),s.unbind(u,l)},e.hasBindEvent=!0}},update:function(e){var t=this,n=avalon(this.element);t.newClass=e[0],t.toggleClass=!!e[1],t.oldClass&&t.newClass!==t.oldClass&&n.removeClass(t.oldClass),t.oldClass=t.newClass,t.type==="class"&&(t.oldStyle?n.toggleClass(t.oldStyle,!!e[1]):n.toggleClass(t.newClass,t.toggleClass))}}),"hover,active".replace(Gt,function(e){wn[e]=wn["class"]}),avalon.directive("css",{init:wn.attr.init,update:function(e){avalon(this.element).css(this.param,e)}}),avalon.directive("data",{priority:100,update:function(e){var t=this.element,n="data-"+this.param;e&&typeof e=="object"?t[n]=e:t.setAttribute(n,String(e))}});var Ni=/^(?:checkbox|radio)$/,Ci=/^(?:radio|checked)$/,ki=/^(file|button|reset|submit|checkbox|radio|range)$/,Li=avalon.directive("duplex",{priority:2e3,init:function(e,t){function r(t){e.changed.call(this,t,e)}function o(){h=!0}function u(){h=!1}var a=e.element,f=e.vmodels;e.changed=Kr(a,"data-duplex-changed",f)||i;var l=[],c=s("string,number,boolean,checked");a.type==="radio"&&e.param===""&&(e.param="checked"),e.param.replace(Yt,function(r){Ni.test(a.type)&&Ci.test(r)&&(r==="radio"&&n("ms-duplex-radio已经更名为ms-duplex-checked"),r="checked",e.isChecked=!0,e.xtype="radio"),r==="bool"?(r="boolean",n("ms-duplex-bool已经更名为ms-duplex-boolean")):r==="text"&&(r="string",n("ms-duplex-text已经更名为ms-duplex-string")),c[r]&&(t=!0),avalon.Array.ensure(l,r)}),t||l.push("string"),e.param=l.join("-"),e.xtype||(e.xtype=a.tagName==="SELECT"?"select":a.type==="checkbox"?"checkbox":a.type==="radio"?"radio":/^change/.test(a.getAttribute("data-duplex-event"))?"change":"input"),e.bound=function(t,n){a.addEventListener?a.addEventListener(t,n,!1):a.attachEvent("on"+t,n);var r=e.rollback;e.rollback=function(){a.avalonSetter=null,avalon.unbind(a,t,n),r&&r()}};var h=!1,p=function(){var t=a.value;if(h||t===e.oldValue)return;var i=e.pipe(t,e,"get");try{e.setter(i),r.call(a,i)}catch(s){n(s)}};switch(e.xtype){case"radio":e.bound("click",function(){var t=e.pipe(a.value,e,"get");try{e.setter(t),r.call(a,t)}catch(i){n(i)}});break;case"checkbox":e.bound(an?"change":"click",function(){var t=a.checked?"ensure":"remove",i=e.getter.apply(0,e.vmodels);Array.isArray(i)||(n("ms-duplex应用于checkbox上要对应一个数组"),i=[i]);var s=e.pipe(a.value,e,"get");avalon.Array[t](i,s),r.call(a,i)});break;case"change":e.bound("change",p);break;case"input":dn?(dn>8?e.bound("input",p):e.bound("propertychange",function(e){e.propertyName==="value"&&p()}),e.bound("dragend",function(){setTimeout(function(){p()},17)})):(e.bound("input",p),e.bound("compositionstart",o),e.bound("compositionend",u),e.bound("DOMAutoComplete",p));break;case"select":e.bound("change",function(){var t=avalon(a).val();Array.isArray(t)?t=t.map(function(t){return e.pipe(t,e,"get")}):t=e.pipe(t,e,"get");if(t+""!==e.oldValue)try{e.setter(t),r.call(a,t)}catch(i){n(i)}}),e.bound("datasetchanged",function(t){if(t.bubble==="selectDuplex"){var n=e._value,r=Array.isArray(n)?n.map(String):n+"";avalon(a).val(r),a.oldValue=r+"",e.changed.call(a,r)}})}e.xtype==="input"&&!ki.test(a.type)&&(a.type!=="hidden"&&(e.bound("focus",function(){a.msFocus=!0}),e.bound("blur",function(){a.msFocus=!1})),a.avalonSetter=p,Mi(function(){if(a.contains(a))!this.msFocus&&e.oldValue!==a.value&&p();else if(!a.msRetain)return!1}))},update:function(e){var t=this.element,n=this,r;if(!this.init){for(var i in avalon.vmodels){var s=avalon.vmodels[i];s.$fire("avalon-ms-duplex-init",n)}var o=n.pipe||(n.pipe=gt);o(null,n,"init"),this.init=1}switch(this.xtype){case"input":case"change":r=this.pipe(e,this,"set");if(r!==this.oldValue){var u=!1;if(t.msFocus){var a=bt(t);a.start===a.end&&(a=a.start,u=!0)}t.value=this.oldValue=r,u&&wt(t,a,a)}break;case"radio":r=n.isChecked?!!e:e+""===t.value,dn===6?setTimeout(function(){t.defaultChecked=r,t.checked=r},31):t.checked=r;break;case"checkbox":var f=[].concat(e);r=this.pipe(t.value,this,"get"),t.checked=f.indexOf(r)>-1;break;case"select":n._value=e,t.msHasEvent?avalon.fireDom(t,"datasetchanged",{bubble:t.msHasEvent}):t.msHasEvent="selectDuplex"}n.xtype!=="select"&&n.changed.call(t,r)}});dn&&avalon.bind(Wt,"selectionchange",function(e){var t=Wt.activeElement;t&&typeof t.avalonSetter=="function"&&t.avalonSetter()}),avalon.duplexHooks={checked:{get:function(e,t){return!t.oldValue}},string:{get:function(e){return e},set:mt},"boolean":{get:function(e){return e==="true"},set:mt},number:{get:function(e,t){var n=parseFloat(e+"");if(-e===-n)return n;var r=/strong|medium|weak/.exec(t.element.getAttribute("data-duplex-number"))||["medium"];switch(r[0]){case"strong":return 0;case"medium":return e===""?"":0;case"weak":return e}},set:mt}};var Ai,Oi=[];avalon.tick=function(e){Oi.push(e)===1&&(Ai=setInterval(yt,60))};var Mi=i;new function(){try{var e={},t=HTMLInputElement.prototype,n=HTMLTextAreaElement.prototype;function r(t){e[this.tagName].call(this,t),!this.msFocus&&this.avalonSetter&&this.oldValue!==t&&this.avalonSetter()}var i=HTMLInputElement.prototype;Object.getOwnPropertyNames(i),e.INPUT=Object.getOwnPropertyDescriptor(t,"value").set,Object.defineProperty(t,"value",{set:r}),e.TEXTAREA=Object.getOwnPropertyDescriptor(n,"value").set,Object.defineProperty(n,"value",{set:r})}catch(s){Mi=avalon.tick}},avalon.directive("effect",{priority:5,init:function(e){var t=e.expr,n,r,i=t.replace(jn,function(e){return e.replace(/./g,"0")}).indexOf(":");i===-1?(n=t,r=!0):(n=t.slice(0,i),r=t.slice(i+1)),Bn.test(t)?n=et(n):n=$r(n),e.expr="["+n+","+r+"]"},update:function(t){var n=t[0],r=this.element;if(r.getAttribute("data-effect-name")===n)return;r.removeAttribute("data-effect-driver");var i=r.style,s=e.getComputedStyle?e.getComputedStyle(r):null,o=!1;if(s&&(_i||Di)){var u=i[Bi]||s[Bi];u&&u!=="0s"&&(r.setAttribute("data-effect-driver","t"),o=!0),o||(u=i[ji]||s[ji],u&&u!=="0s"&&(r.setAttribute("data-effect-driver","a"),o=!0))}o||avalon.effects[n]&&(r.setAttribute("data-effect-driver","j"),o=!0),o&&r.setAttribute("data-effect-name",n)}}),avalon.effects={},avalon.effect=function(e,t){avalon.effects[e]=t};var _i=!1,Di=!1,Pi,Hi,Bi=avalon.cssName("transition-duration"),ji=avalon.cssName("animation-duration");new function(){var t={TransitionEvent:"transitionend",WebKitTransitionEvent:"webkitTransitionEnd",OTransitionEvent:"oTransitionEnd",otransitionEvent:"otransitionEnd"},n;for(var r in t){if(e[r]){n=t[r];break}try{var i=document.createEvent(r);n=t[r];break}catch(s){}}typeof n=="string"&&(_i=!0,Pi=n),t={AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"};var o;for(r in t)if(e[r]){o=t[r];break}typeof o=="string"&&(_i=!0,Hi=o)};var Fi=[],Ii=new vi;Tt.prototype={contrustor:Tt,enterClass:function(){return Nt(this,"enter")},leaveClass:function(){return Nt(this,"leave")},actionFun:function(e,t,n){if(document.hidden)return;var r=this,i=r.el,s=e==="leave";e=s?"leave":"enter";var o=s?"enter":"leave";Ct(r,"abort"+xt(o)),Ct(r,"before"+xt(e)),s||t(i);var u=function(o){i.removeEventListener(r.cssEvent,r.cssCallback),s?(t(i),avalon(i).removeClass(r.cssClass)):r.driver==="a"&&avalon(i).removeClass(r.cssClass),o!==!0&&(Ct(r,"after"+xt(e)),n&&n(i)),r.dispose()};r.useCss?(r.cssCallback&&r.cssCallback(!0),r.cssClass=Nt(r,e),r.cssCallback=u,r.update=function(){i.addEventListener(r.cssEvent,r.cssCallback),!s&&r.driver==="t"&&avalon(i).removeClass(r.cssClass)},avalon(i).addClass(r.cssClass),Ii.render(!0),Ii.queue.push(r)):Ct(r,e,u)},enter:function(e,t){this.actionFun.apply(this,["enter"].concat(avalon.slice(arguments)))},leave:function(e,t){this.actionFun.apply(this,["leave"].concat(avalon.slice(arguments)))},dispose:function(){this.update=this.cssCallback=null,Fi.unshift(this)>100&&Fi.pop()}};var qi=function(e,t){var n=un.call(arguments,0);typeof n[2]!="function"&&n.splice(2,0,i),typeof n[3]!="function"&&n.splice(3,0,i);var r=n[2],s=n[3],o=n[4],u=Et(e,o);if(!u)return r(),s(),!1;var a=t?"enter":"leave";u[a](r,s)};avalon.mix(avalon.effect,{apply:qi,append:function(e,t,n,r){return qi(e,1,function(){t.appendChild(e)},n,r)},before:function(e,t,n,r){return qi(e,1,function(){t.parentNode.insertBefore(e,t)},n,r)},remove:function(e,t,n,r){return qi(e,0,function(){e.parentNode===t&&t.removeChild(e)},n,r)}}),avalon.directive("html",{update:function(e){var t=this,n=this.element,r=n.nodeType!==1,i=r?n.parentNode:n;if(!i)return;e=e==null?"":e;if(n.nodeType===3){var s=pn("html");i.insertBefore(Wt.createComment(s),n),t.element=Wt.createComment(s+":end"),i.replaceChild(t.element,n),n=t.element}if(typeof e!="object")var o=avalon.parseHTML(String(e));else if(e.nodeType===11)o=e;else if(e.nodeType===1||e.item){var u=e.nodeType===1?e.childNodes:e.item;o=ln.cloneNode(!0);while(u[0])o.appendChild(u[0])}u=avalon.slice(o.childNodes);if(r){var a=n.nodeValue.slice(0,-4);for(;;){var f=n.previousSibling;if(!f||f.nodeType===8&&f.nodeValue===a)break;i.removeChild(f)}i.insertBefore(o,n)}else avalon.clearHTML(n).appendChild(o);ft(u,t.vmodels)}}),avalon.directive("if",{priority:10,update:function(e){var t=this,n=this.element,r=t.stamp=+(new Date),i,s=function(){if(r!==t.stamp)return;t.recoverNode=null};t.recoverNode&&t.recoverNode();try{if(!n.parentNode)return;i=n.parentNode}catch(o){return}if(e){function u(){n.getAttribute(t.name)&&(n.removeAttribute(t.name),ot(n,t.vmodels)),t.rollback=null}if(n.nodeType===8){var a=t.keep,f=avalon.effect.apply(a,1,function(){if(r!==t.stamp)return;n.parentNode.replaceChild(a,n),n=t.element=a,a.getAttribute("_required")&&(n.required=!0,n.removeAttribute("_required")),n.querySelectorAll&&avalon.each(n.querySelectorAll("[_required=true]"),function(e){e.required=!0,e.removeAttribute("_required")}),u()},s);f=f===!1}f||u()}else if(n.nodeType===1){n.required===!0&&(n.required=!1,n.setAttribute("_required","true"));try{avalon.each(n.querySelectorAll(":required"),function(e){n.required=!1,e.setAttribute("_required","true")})}catch(o){}var l=t.element=Wt.createComment("ms-if"),c=n.nextSibling;t.recoverNode=function(){t.recoverNode=null,l.parentNode!==i&&(i.insertBefore(l,c),t.keep=n)},avalon.effect.apply(n,0,function(){t.recoverNode=null;if(r!==t.stamp)return;n.parentNode.replaceChild(l,n),t.keep=n,Vt.appendChild(n),t.rollback=function(){n.parentNode===Vt&&Vt.removeChild(n)}},s)}}});var Ri=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/img,Ui=/<noscript.*?>([\s\S]+?)<\/noscript>/im,zi=function(){return new(e.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")},Wi=avalon.templateCache={};avalon.directive("include",{init:wn.attr.init,update:function(e){var t=this,r=this.element,i=t.vmodels,s=t.includeRendered,o=t.effectName&&t.effectClass,u=t.templateCache,a=t.includeReplace,f=t.includeLoaded,l=a?r.parentNode:r,c=t._element;t.recoverNodes=t.recoverNodes||avalon.noop;var h=function(n){var h=t._stamp=+(new Date);if(f){var p=f.apply(l,[n].concat(i));typeof p=="string"&&(n=p)}s&&nt(l,function(){s.call(l)},NaN);var d=t.includeLastID||"_default";t.includeLastID=e;var v=u&&u[d]||Wt.createElement(r.tagName||t._element.tagName);o&&(v.className=o,l.insertBefore(v,t.start)),(u||{})[d]=v;var m=t.recoverNodes();m&&l.insertBefore(m,t.end);for(;;){var g=t.start.nextSibling;if(!g||g===v||g===t.end)break;v.appendChild(g)}avalon.effect.remove(v,l,function(){u&&h===t._stamp&&Vt.appendChild(v)},t);var y=l,b=avalon.noop,w=avalon.noop,E=kt(t,e,n),S=avalon.slice(E.childNodes);a&&o?(y=c,y.innerHTML="",y.setAttribute("ms-skip","true"),l.insertBefore(y,t.end.nextSibling),b=function(){y.insertBefore(E,null)},w=function(){t.recoverNodes=avalon.noop,h===t._stamp&&(E=Lt(S),l.insertBefore(E,t.end),ft(S,i)),y.parentNode===l&&l.removeChild(y)},t.recoverNodes=function(){return t.recoverNodes=avalon.noop,Lt(S)}):b=function(){l.insertBefore(E,t.end),ft(S,i)},avalon.effect.apply(y,"enter",b,w)};if(t.param==="src")if(typeof Wi[e]=="string")avalon.nextTick(function(){h(Wi[e])});else if(Array.isArray(Wi[e]))Wi[e].push(h);else{var p=zi();p.onreadystatechange=function(){if(p.readyState===4){var t=p.status;if(t>=200&&t<300||t===304||t===1223){var r=p.responseText;for(var i=0,s;s=Wi[e][i++];)s(r);Wi[e]=r}else n("ms-include load ["+e+"] error")}},Wi[e]=[h],p.open("GET",e,!0),"withCredentials"in p&&(p.withCredentials=!0),p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.send(null)}else{var d=e&&e.nodeType===1?e:Wt.getElementById(e);if(d){if(d.tagName==="NOSCRIPT"&&!d.innerHTML&&!d.fixIE78){p=zi(),p.open("GET",location,!1),p.send(null);var v=Wt.getElementsByTagName("noscript"),m=(p.responseText||"").match(Ri)||[],g=m.length;for(var y=0;y<g;y++){var b=v[y];b&&(b.style.display="none",b.fixIE78=(m[y].match(Ui)||["","&nbsp;"])[1])}}avalon.nextTick(function(){h(d.fixIE78||d.value||d.innerText||d.innerHTML)})}}}});var Xi=/\(([^)]*)\)/,Vi=avalon.directive("on",{priority:3e3,init:function(e){var t=e.expr;e.type="on";var n=e.param.replace(/-\d+$/,"");typeof Vi[n+"Hook"]=="function"&&Vi[n+"Hook"](e);if(t.indexOf("(")>0&&t.indexOf(")")>-1){var r=(t.match(Xi)||["",""])[1].trim();if(r===""||r==="$event")t=t.replace(Xi,"")}e.expr=t},update:function(e){var t=this,n=this.element;e=function(e){var n=t.getter||i;return n.apply(this,t.args.concat(e))};var r=t.param.replace(/-\d+$/,"");if(r==="scan")e.call(n,{type:r});else if(typeof t.specialBind=="function")t.specialBind(n,e);else var s=avalon.bind(n,r,e);t.rollback=function(){typeof t.specialUnbind=="function"?t.specialUnbind():avalon.unbind(n,r,s)}}});avalon.directive("repeat",{priority:90,init:function(e){var t=e.type;e.cache={},e.enterCount=0;var n=e.element;if(n.nodeType===1){n.removeAttribute(e.name),St(n,e),e.param=e.param||"el",e.sortedCallback=Kr(n,"data-with-sorted",e.vmodels);var r=Kr(n,"data-"+t+"-rendered",e.vmodels),i=pn(t),s=Wt.createComment(i+":start"),o=e.element=Wt.createComment(i+":end");e.signature=i,e.start=s,e.template=ln.cloneNode(!1);if(t==="repeat"){var u=n.parentNode;u.replaceChild(o,n),u.insertBefore(s,o),e.template.appendChild(n)}else{while(n.firstChild)e.template.appendChild(n.firstChild);n.appendChild(s),n.appendChild(o),u=n}e.element=o;if(r)var a=avalon.bind(u,"datasetchanged",function(){r.apply(u,u.args),avalon.unbind(u,"datasetchanged",a),u.msRendered=r})}},update:function(e,t){var n=this,r=this.xtype;this.enterCount+=1;var i=!t;if(i){n.$outer={};var s="$key",o="$val";r==="array"&&(s="$first",o="$last");for(var u=0,a;a=n.vmodels[u++];)if(a.hasOwnProperty(s)&&a.hasOwnProperty(o)){n.$outer=a;break}}var f=this.track;if(n.sortedCallback){var l=n.sortedCallback.call(w,f);l&&Array.isArray(l)&&(f=l)}var c="move";n.$repeat=e;var h=[],p=i&&ln.cloneNode(!1),v=[],m=this.param,g=avalon.mix({},this.cache),y=this.element,b=f.length,w=y.parentNode;for(u=0;u<b;u++){var E=f[u],S=g[E];if(!S){S=Dt(this),S.$up=e,r==="array"?(c="add",S.$id=E,S[m]=e[u]):(c="append",S.$key=E,S.$val=e[E]),this.cache[E]=S;var x=S.$anchor||(S.$anchor=y.cloneNode(!1));x.nodeValue=this.signature,_t(n,p,S,h,i&&!n.effectDriver),Bt(S,n,r)}else h.push({}),g[E]=!0;this.enterCount===1&&(S.$active=!1,S.$oldIndex=S.$index,S.$active=!0,S.$index=u),r==="array"?(S.$first=u===0,S.$last=u===b-1):S.$val=L(e[E]),v.push(S)}this.proxies=v;if(i&&!n.effectDriver)w.insertBefore(p,y),h.forEach(function(e){ft(e.nodes||[],e.vmodels),e.nodes=e.vmodels=null});else{var T=n.staggerIndex=0;for(E in g)g[E]!==!0&&(c="del",Mt(g[E].$anchor,n),It(this.cache,E,m),g[E]=null);for(u=0;u<b;u++){S=v[u],E=r==="array"?S.$id:S.$key;var N=v[u-1],C=N?N.$anchor:n.start;g[E]?S.$index!==S.$oldIndex&&function(e,t){T=Ot(n.effectEnterStagger,function(){var r=Mt(e.$anchor),i=avalon.slice(r.childNodes);w.insertBefore(r,t.nextSibling),At(i,1,n)},T)}(S,C):function(e,t){var r=e.nodes,i=e.vmodels;r&&(T=Ot(n.effectEnterStagger,function(){w.insertBefore(e.content,t.nextSibling),ft(r,i),At(r,1,n)},T)),e.nodes=e.vmodels=null}(h[u],C)}}if(!e.$track)for(E in this.cache)It(this.cache,E,m);(function(e){w.args=e,w.msRendered&&w.msRendered.apply(w,e)})(d.newWatch?arguments:[c]);var k=setTimeout(function(){clearTimeout(k),avalon.fireDom(w,"datasetchanged",{bubble:w.msHasEvent})});this.enterCount-=1}}),"with,each".replace(Gt,function(e){wn[e]=avalon.mix({},wn.repeat,{priority:1400})});var $i=[],Ji=[];avalon.directive("text",{update:function(e){var t=this.element;e=e==null?"":e;if(t.nodeType===3)try{t.data=e}catch(n){}else"textContent"in t?t.textContent=e:t.innerText=e}}),avalon.parseDisplay=qt,avalon.directive("visible",{init:function(e){St(e.element,e)},update:function(e){var t=this,n=this.element,r,i=!this.effectName;if(!this.stamp){r=this.stamp=+(new Date),e?(n.style.display=t.display||"",avalon(n).css("display")==="none"&&(n.style.display=t.display=qt(n.nodeName))):n.style.display="none";return}r=this.stamp=+(new Date),e?avalon.effect.apply(n,1,function(){if(r!==t.stamp)return;var e=n.getAttribute("data-effect-driver")||"a";i&&(n.style.display=t.display||""),(e==="a"||e==="t")&&avalon(n).css("display")==="none"&&(n.style.display=t.display||qt(n.nodeName))}):avalon.effect.apply(n,0,function(){if(r!==t.stamp)return;n.style.display="none"})}});var Ki=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,Qi=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,Gi=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/ig,Yi={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/ig,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/ig,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/ig},Zi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,es=/([^\#-~| |!])/g,ts=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(e,t,n){return t=t||30,n=typeof n=="string"?n:"...",e.length>t?e.slice(0,t-n.length)+n:String(e)},$filter:function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t],i=avalon.filters[r[0]];if(typeof i=="function"){var s=[e].concat(r.slice(1));e=i.apply(null,s)}}return e},camelize:z,sanitize:function(e){return e.replace(Ki,"").replace(Gi,function(e,t){var n=e.toLowerCase().match(/<(\w+)\s/);if(n){var r=Yi[n[1]];r&&(e=e.replace(r,function(e,t,n){var r=n.charAt(0);return t+"="+r+"javascript:void(0)"+r}))}return e.replace(Qi," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(Zi,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(es,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,t,n){return(t||"￥")+Rt(e,isFinite(n)?n:2)},number:Rt};new function(){function e(e){return parseInt(e,10)||0}function t(e,t,n){var r="";e<0&&(r="-",e=-e),e=""+e;while(e.length<t)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function n(e,n,r,i){return function(s){var o=s["get"+e]();if(r>0||o>-r)o+=r;return o===0&&r===-12&&(o=12),t(o,n,i)}}function r(e,t){return function(n,r){var i=n["get"+e](),s=(t?"SHORT"+e:e).toUpperCase();return r[s][i]}}function i(e){var n=-1*e.getTimezoneOffset(),r=n>=0?"+":"";return r+=t(Math[n>0?"floor":"ceil"](n/60),2)+t(Math.abs(n%60),2),r}function s(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}var o={yyyy:n("FullYear",4),yy:n("FullYear",2,0,!0),y:n("FullYear",1),MMMM:r("Month"),MMM:r("Month",!0),MM:n("Month",2,1),M:n("Month",1,1),dd:n("Date",2),d:n("Date",1),HH:n("Hours",2),H:n("Hours",1),hh:n("Hours",2,-12),h:n("Hours",1,-12),mm:n("Minutes",2),m:n("Minutes",1),ss:n("Seconds",2),s:n("Seconds",1),sss:n("Milliseconds",3),EEEE:r("Day"),EEE:r("Day",!0),a:s,Z:i},u=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,a=/^\/Date\((\d+)\)\/$/;ts.date=function(t,n){var r=ts.date.locate,i="",s=[],f,l;n=n||"mediumDate",n=r[n]||n;if(typeof t=="string")if(/^\d+$/.test(t))t=e(t);else if(a.test(t))t=+RegExp.$1;else{var c=t.trim(),h=[0,0,0,0,0,0,0],p=new Date(0);c=c.replace(/^(\d+)\D(\d+)\D(\d+)/,function(t,n,r,i){var s=i.length===4?[i,n,r]:[n,r,i];return h[0]=e(s[0]),h[1]=e(s[1])-1,h[2]=e(s[2]),""});var d=p.setFullYear,v=p.setHours;c=c.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(t,n,r,i,s){return h[3]=e(n),h[4]=e(r),h[5]=e(i),s&&(h[6]=Math.round(parseFloat("0."+s)*1e3)),""});var m=0,g=0;c=c.replace(/Z|([+-])(\d\d):?(\d\d)/,function(t,n,r,i){return d=p.setUTCFullYear,v=p.setUTCHours,n&&(m=e(n+r),g=e(n+i)),""}),h[3]-=m,h[4]-=g,d.apply(p,h.slice(0,3)),v.apply(p,h.slice(3)),t=p}typeof t=="number"&&(t=new Date(t));if(avalon.type(t)!=="date")return;while(n)l=u.exec(n),l?(s=s.concat(l.slice(1)),n=s.pop()):(s.push(n),n=null);return s.forEach(function(e){f=o[e],i+=f?f(t,r):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i};var f={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};f.SHORTMONTH=f.MONTH,ts.date.locate=f};var ns=[],rs,is=function(e){rs=!0;var t=avalon.require;t&&t.checkDeps&&(modules["domReady!"].state=4,t.checkDeps());while(e=ns.shift())e(avalon)};if(Wt.readyState==="complete")setTimeout(is);else if(an)Wt.addEventListener("DOMContentLoaded",is);else{Wt.attachEvent("onreadystatechange",function(){Wt.readyState==="complete"&&is()});try{var ss=e.frameElement===null}catch(Vn){}fn.doScroll&&ss&&e.external&&Ut()}avalon.bind(e,"load",is),avalon.ready=function(e){rs?e(avalon):ns.push(e)},avalon.config({loader:!1}),avalon.ready(function(){avalon.scan(Wt.body)}),typeof define=="function"&&define.amd&&define("avalon",[],function(){return avalon});var os=e.avalon;return avalon.noConflict=function(t){return t&&e.avalon===avalon&&(e.avalon=os),avalon},t===void 0&&(e.avalon=avalon),avalon}),define("dataServices",["jquery"],function(e){var t=function(){this.init()};t.prototype={constructor:t,init:function(){this.dataServices=[],this.dataModel=window.datamodel||{}},add:function(e,t,r,i){this.dataServices[e]=new n(t,r,i)},get:function(e){return this.dataServices[e]},getDataModel:function(){return this.dataModel}};var n=function(t,n,r){this.action=e.extend(!0,{query:{},create:{},update:{},remove:{}},r),this.params={url:t},this.dataMap=n,this.init()};n.prototype={constructor:n,init:function(){for(var e in this.action)this[e]=function(e){return function(t){return this.send(t,e)}}(e)},send:function(t,n){var r=e.extend(!0,{},this.params,this.action[n],t);for(var i in this.dataMap)if(r.hasOwnProperty(i)){var s=new RegExp(":\\b"+i+"\\b");r.url=r.url.replace(s,r[i])}var o=e.ajax({type:r.method||"POST",cache:r.cache,url:r.url,dataType:r.dataType||"json",timeout:r.timeout||5e3,data:r.data||{}});return o}};var r=new t;return r.add("custom","/v3.php/:_method_",{_method_:"@_method_"},{queryDesignerData:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"api/custom/designer/"},cache:!1},submit_oneKey:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"custom/onekey"},cache:!1},upload_token:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"vip_upload/token"},cache:!1},upload_token_docer:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"api/upload_token"},cache:!1}}),r.add("designer_shop","/v3.php/:_method_",{_method_:"@_method_"},{queryOrderList:{method:"POST",_method_:"proxy",data:{wps_proxy:"vip",wps_act:"order_dingzhi/order",cache:!1}},queryEvaluationList:{method:"POST",_method_:"proxy",data:{wps_proxy:"vip",wps_act:"dingzhi_evaluation/eva",cache:!1}},queryDesignerBaseData:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"api/custom/designer/client_base"},cache:!1},queryDesignerCaseData:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"api/custom/works/"},cache:!1},queryCaseImageList:{method:"POST",_method_:"proxy",data:{wps_proxy:"docer",wps_act:"api/custom/works/preview"},cache:!1}}),r}),define("collect",["jquery"],function(e){function t(e){var t,n,r,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=e.length,u="";while(s<o){t=e.charCodeAt(s++)&255;if(s==o){u+=i.charAt(t>>2),u+=i.charAt((t&3)<<4),u+="==";break}n=e.charCodeAt(s++);if(s==o){u+=i.charAt(t>>2),u+=i.charAt((t&3)<<4|(n&240)>>4),u+=i.charAt((n&15)<<2),u+="=";break}r=e.charCodeAt(s++),u+=i.charAt(t>>2),u+=i.charAt((t&3)<<4|(n&240)>>4),u+=i.charAt((n&15)<<2|(r&192)>>6),u+=i.charAt(r&63)}return u}function n(e){var t=new RegExp("(^|\\?|&)"+e+"=([^&^#]*)(\\s|&|$|#)","i");return t.test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""}var r=function(e){var r="",i="",s="",o=n("app")?n("app"):"wps",u=new Image,a="dm=/wps/web/docer&action=docerclient&P0="+i+"&P1=5&P2="+o;return window.parent.$.wpsApi&&window.parent.$.wpsApi.getWpsVersionInfo().done(function(e){e.callstatus==="ok"&&(r=e.version,i=e.guid,s=e.channelid),a="dm=/wps/web/docer&action=docerclient&P0="+i+"&P1=5&P2="+o}),{sendCollect:function(e,n){u.src="http://wpsweb-dc.wps.cn/dc.gif?v=D1S1E1&d="+t(a+"&P3="+e+"&P4="+(typeof n!="undefined"?n:"")+"&_t="+(new Date).getTime())},_addArg:function(e,t){var n=Array.prototype.slice.apply(e);return t&&n.unshift(t),n},clickmyfont:function(e){this.sendCollect(this._addArg(arguments,"clickmyfont"))}}}(e);return r}),define("datepicker",[],function(){function e(e,n){var r,i,s,o=e.nodeName.toLowerCase();return"area"===o?(r=e.parentNode,i=r.name,!e.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(s=$("img[usemap=#"+i+"]")[0],!!s&&t(s))):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||n:n)&&t(e)}function t(e){return $.expr.filters.visible(e)&&!$(e).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"}).length}function r(e){var t,n;while(e.length&&e[0]!==document){t=e.css("position");if(t==="absolute"||t==="relative"||t==="fixed"){n=parseInt(e.css("zIndex"),10);if(!isNaN(n)&&n!==0)return n}e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=s($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(n.inline?e.parent()[0]:n.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&$(this).addClass("ui-datepicker-next-hover"))})}function o(e,t){$.extend(e,t);for(var n in t)t[n]==null&&(e[n]=t[n]);return e}$.ui=$.ui||{},$.extend($.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({scrollParent:function(){var e=this.css("position"),t=e==="absolute",n=this.parents().filter(function(){var e=$(this);return t&&e.css("position")==="static"?!1:/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return e==="fixed"||!n.length?$(this[0].ownerDocument||document):n},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(e){return function(t){return!!$.data(t,e)}}):function(e,t,n){return!!$.data(e,n[3])},focusable:function(t){return e(t,!isNaN($.attr(t,"tabindex")))},tabbable:function(t){var n=$.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(t,!r)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(e,t){function s(e,t,r,i){return $.each(n,function(){t-=parseFloat($.css(e,"padding"+this))||0,r&&(t-=parseFloat($.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat($.css(e,"margin"+this))||0)}),t}var n=t==="Width"?["Left","Right"]:["Top","Bottom"],r=t.toLowerCase(),i={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+t]=function(e){return e===undefined?i["inner"+t].call(this):this.each(function(){$(this).css(r,s(this,e)+"px")})},$.fn["outer"+t]=function(e,n){return typeof e!="number"?i["outer"+t].call(this,e):this.each(function(){$(this).css(r,s(this,e,!0,n)+"px")})}}),$.fn.addBack||($.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(e){return function(t){return arguments.length?e.call(this,$.camelCase(t)):e.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.fn.extend({focus:function(e){return function(t,n){return typeof t=="number"?this.each(function(){var e=this;setTimeout(function(){$(e).focus(),n&&n.call(e)},t)}):e.apply(this,arguments)}}($.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length){var t=$(this[0]),n,r;while(t.length&&t[0]!==document){n=t.css("position");if(n==="absolute"||n==="relative"||n==="fixed"){r=parseInt(t.css("zIndex"),10);if(!isNaN(r)&&r!==0)return r}t=t.parent()}}return 0}}),$.ui.plugin={add:function(e,t,n){var r,i=$.ui[e].prototype;for(r in n)i.plugins[r]=i.plugins[r]||[],i.plugins[r].push([t,n[r]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(!s)return;if(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11))return;for(i=0;i<s.length;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}},$.extend($.ui,{datepicker:{version:"1.11.0"}});var n;$.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var n,r,i;n=e.nodeName.toLowerCase(),r=n==="div"||n==="span",e.id||(this.uuid+=1,e.id="dp"+this.uuid),i=this._newInst($(e),r),i.settings=$.extend({},t||{}),n==="input"?this._connectDatepicker(e,i):r&&this._inlineDatepicker(e,i)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?s($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName))return;this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),$.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n,r,i,s=this._get(t,"appendText"),o=this._get(t,"isRTL");t.append&&t.append.remove(),s&&(t.append=$("<span class='"+this._appendClass+"'>"+s+"</span>"),e[o?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),n=this._get(t,"showOn"),(n==="focus"||n==="both")&&e.focus(this._showDatepicker);if(n==="button"||n==="both")r=this._get(t,"buttonText"),i=this._get(t,"buttonImage"),t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:i,alt:r,title:r}):$("<button type='button'></button>").addClass(this._triggerClass).html(i?$("<img/>").attr({src:i,alt:r,title:r}):r)),e[o?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!==e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){n=0,r=0;for(i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName))return;n.addClass(this.markerClassName).append(t.dpDiv),$.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s,u,a,f,l,c=this._dialogInst;return c||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=$("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},$.data(this._dialogInput[0],"datepicker",c)),o(c.settings,r||{}),t=t&&t.constructor===Date?this._formatDate(c,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null,this._pos||(u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+f,a/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(e){var t,n=$(e),r=$.data(e,"datepicker");if(!n.hasClass(this.markerClassName))return;t=e.nodeName.toLowerCase(),$.removeData(e,"datepicker"),t==="input"?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(t==="div"||t==="span")&&n.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t,n,r=$(e),i=$.data(e,"datepicker");if(!r.hasClass(this.markerClassName))return;t=e.nodeName.toLowerCase();if(t==="input")e.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(t==="div"||t==="span")n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=$.map(this._disabledInputs,function(t){return t===e?null:t})},_disableDatepicker:function(e){var t,n,r=$(e),i=$.data(e,"datepicker");if(!r.hasClass(this.markerClassName))return;t=e.nodeName.toLowerCase();if(t==="input")e.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(t==="div"||t==="span")n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=$.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return $.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r,i,s,u,a=this._getInst(e);if(arguments.length===2&&typeof t=="string")return t==="defaults"?$.extend({},$.datepicker._defaults):a?t==="all"?$.extend({},a.settings):this._get(a,t):null;r=t||{},typeof t=="string"&&(r={},r[t]=n),a&&(this._curInst===a&&this._hideDatepicker(),i=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(a,"min"),u=this._getMinMaxDate(a,"max"),o(a.settings,r),s!==null&&r.dateFormat!==undefined&&r.minDate===undefined&&(a.settings.minDate=this._formatDate(a,s)),u!==null&&r.dateFormat!==undefined&&r.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,u)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments($(e),a),this._autoSize(a),this._setDate(a,i),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t,n,r,i=$.datepicker._getInst(e.target),s=!0,o=i.dpDiv.is(".ui-datepicker-rtl");i._keyEvent=!0;if($.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),s=!1;break;case 13:return r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",i.dpDiv),r[0]&&$.datepicker._selectDay(e.target,i.selectedMonth,i.selectedYear,r[0]),t=$.datepicker._get(i,"onSelect"),t?(n=$.datepicker._formatDate(i),t.apply(i.input?i.input[0]:null,[n,i])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(i,"stepBigMonths"):-$.datepicker._get(i,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(i,"stepBigMonths"):+$.datepicker._get(i,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,o?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(i,"stepBigMonths"):-$.datepicker._get(i,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,o?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(i,"stepBigMonths"):+$.datepicker._get(i,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else e.keyCode===36&&e.ctrlKey?$.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,n,r=$.datepicker._getInst(e.target);if($.datepicker._get(r,"constrainInput"))return t=$.datepicker._possibleChars($.datepicker._get(r,"dateFormat")),n=String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!t||t.indexOf(n)>-1},_doKeyUp:function(e){var t,n=$.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t=$.datepicker.parseDate($.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,$.datepicker._getFormatConfig(n)),t&&($.datepicker._setDateFromField(n),$.datepicker._updateAlternate(n),$.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!=="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput===e)return;var t,n,i,s,u,a,f;t=$.datepicker._getInst(e),$.datepicker._curInst&&$.datepicker._curInst!==t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),n=$.datepicker._get(t,"beforeShow"),i=n?n.apply(e,[e,t]):{};if(i===!1)return;o(t.settings,i),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight),s=!1,$(e).parents().each(function(){return s|=$(this).css("position")==="fixed",!s}),u={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),u=$.datepicker._checkOffset(t,u,s),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),t.inline||(a=$.datepicker._get(t,"showAnim"),f=$.datepicker._get(t,"duration"),t.dpDiv.css("z-index",r($(e))+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects.effect[a]?t.dpDiv.show(a,$.datepicker._get(t,"showOptions"),f):t.dpDiv[a||"show"](a?f:null),$.datepicker._shouldFocusInput(t)&&t.input.focus(),$.datepicker._curInst=t)},_updateDatepicker:function(e){this.maxRows=4,n=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a");var t,r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left===e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top===e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t,n=this._getInst(e),r=this._get(n,"isRTL");while(e&&(e.type==="hidden"||e.nodeType!==1||$.expr.filters.hidden(e)))e=e[r?"previousSibling":"nextSibling"];return t=$(e).offset(),[t.left,t.top]},_hideDatepicker:function(e){var t,n,r,i,s=this._curInst;if(!s||e&&s!==$.data(e,"datepicker"))return;this._datepickerShowing&&(t=this._get(s,"showAnim"),n=this._get(s,"duration"),r=function(){$.datepicker._tidyDialog(s)},$.effects&&($.effects.effect[t]||$.effects[t])?s.dpDiv.hide(t,$.datepicker._get(s,"showOptions"),n,r):s.dpDiv[t==="slideDown"?"slideUp":t==="fadeIn"?"fadeOut":"hide"](t?n:null,r),t||r(),this._datepickerShowing=!1,i=this._get(s,"onClose"),i&&i.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst)return;var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!==$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length===0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==n)&&$.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0]))return;this._adjustInstDate(i,t+(n==="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t,n=$(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(t=new Date,r.selectedDay=t.getDate(),r.drawMonth=r.selectedMonth=t.getMonth(),r.drawYear=r.selectedYear=t.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n==="M"?"Month":"Year")]=i["draw"+(n==="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i,s=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0]))return;i=this._getInst(s[0]),i.selectedDay=i.currentDay=$("a",r).html(),i.selectedMonth=i.currentMonth=t,i.selectedYear=i.currentYear=n,this._selectDate(e,this._formatDate(i,i.currentDay,i.currentMonth,i.currentYear))},_clearDate:function(e){var t=$(e);this._selectDate(t,"")},_selectDate:function(e,t){var n,r=$(e),i=this._getInst(r[0]);t=t!=null?t:this._formatDate(i),i.input&&i.input.val(t),this._updateAlternate(i),n=this._get(i,"onSelect"),n?n.apply(i.input?i.input[0]:null,[t,i]):i.input&&i.input.trigger("change"),i.inline?this._updateDatepicker(i):(this._hideDatepicker(),this._lastInput=i.input[0],typeof i.input[0]!="object"&&i.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,n,r,i=this._get(e,"altField");i&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(t,n,this._getFormatConfig(e)),$(i).each(function(){$(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(e,t,n){if(e==null||t==null)throw"Invalid arguments";t=typeof t=="object"?t.toString():t+"";if(t==="")return null;var r,i,s,o=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,a=typeof u!="string"?u:(new Date).getFullYear()%100+parseInt(u,10),f=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,l=(n?n.dayNames:null)||this._defaults.dayNames,c=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,h=(n?n.monthNames:null)||this._defaults.monthNames,p=-1,d=-1,v=-1,m=-1,g=!1,y,b=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},w=function(e){var n=b(e),r=e==="@"?14:e==="!"?20:e==="y"&&n?4:e==="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(o).match(i);if(!s)throw"Missing number at position "+o;return o+=s[0].length,parseInt(s[0],10)},E=function(e,n,r){var i=-1,s=$.map(b(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});$.each(s,function(e,n){var r=n[1];if(t.substr(o,r.length).toLowerCase()===r.toLowerCase())return i=n[0],o+=r.length,!1});if(i!==-1)return i+1;throw"Unknown name at position "+o},S=function(){if(t.charAt(o)!==e.charAt(r))throw"Unexpected literal at position "+o;o++};for(r=0;r<e.length;r++)if(g)e.charAt(r)==="'"&&!b("'")?g=!1:S();else switch(e.charAt(r)){case"d":v=w("d");break;case"D":E("D",f,l);break;case"o":m=w("o");break;case"m":d=w("m");break;case"M":d=E("M",c,h);break;case"y":p=w("y");break;case"@":y=new Date(w("@")),p=y.getFullYear(),d=y.getMonth()+1,v=y.getDate();break;case"!":y=new Date((w("!")-this._ticksTo1970)/1e4),p=y.getFullYear(),d=y.getMonth()+1,v=y.getDate();break;case"'":b("'")?S():g=!0;break;default:S()}if(o<t.length){s=t.substr(o);if(!/^\s+/.test(s))throw"Extra/unparsed characters found in date: "+s}p===-1?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=a?0:-100));if(m>-1){d=1,v=m;do{i=this._getDaysInMonth(p,d-1);if(v<=i)break;d++,v-=i}while(!0)}y=this._daylightSavingAdjust(new Date(p,d-1,v));if(y.getFullYear()!==p||y.getMonth()+1!==d||y.getDate()!==v)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},f=function(e,t,n){var r=""+t;if(a(e))while(r.length<n)r="0"+r;return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=!1;if(t)for(r=0;r<e.length;r++)if(h)e.charAt(r)==="'"&&!a("'")?h=!1:c+=e.charAt(r);else switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=t.getTime()*1e4+this._ticksTo1970;break;case"'":a("'")?c+="'":h=!0;break;default:c+=e.charAt(r)}return c},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)e.charAt(t)==="'"&&!i("'")?r=!1:n+=e.charAt(t);else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal)return;var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()==="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!==e.selectedMonth||s!==e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){$.datepicker._adjustDate(n,-t,"M")},next:function(){$.datepicker._adjustDate(n,+t,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(n)},selectDay:function(){return $.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=V[0]!==1||V[1]!==1,Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;Z<0&&(Z+=12,et--);if(Y){t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate())),t=G&&t<G?G:t;while(this._daylightSavingAdjust(new Date(et,Z,1))>t)Z--,Z<0&&(Z=11,et--)}e.drawMonth=Z,e.drawYear=et,n=this._get(e,"prevText"),n=X?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=X?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>",o=this._get(e,"currentText"),u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R,o=X?this.formatDate(o,u,this._getFormatConfig(e)):o,a=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(U?"":a)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),d=this._get(e,"monthNames"),v=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",E;for(S=0;S<V[0];S++){x="",this.maxRows=4;for(T=0;T<V[1];T++){N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),C=" ui-corner-all",k="";if(K){k+="<div class='ui-datepicker-group";if(V[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first",C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last",C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",C=""}k+="'>"}k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&S===0?U?s:r:"")+(/all|right/.test(C)&&S===0?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(E=0;E<7;E++)A=(E+l)%7,L+="<th scope='col'"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>";k+=L+"</tr></thead><tbody>",O=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),M=(this._getFirstDayOfMonth(et,Z)-l+7)%7,_=Math.ceil((M+O)/7),D=K?this.maxRows>_?this.maxRows:_:_,this.maxRows=D,P=this._daylightSavingAdjust(new Date(et,Z,1-M));for(H=0;H<D;H++){k+="<tr>",B=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"";for(E=0;E<7;E++)j=m?m.apply(e.input?e.input[0]:null,[P]):[!0,""],F=P.getMonth()!==Z,I=F&&!y||!j[0]||G&&P<G||Y&&P>Y,B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+((!F||g)&&j[2]?" title='"+j[2].replace(/'/g,"&#39;")+"'":"")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);k+=B+"</tr>"}Z++,Z>11&&(Z=0,et++),k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=k}w+=x}return w+=f,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{a=r&&r.getFullYear()===n,f=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(l=0;l<12;l++)(!a||l>=r.getMonth())&&(!f||l<=i.getMonth())&&(w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>");w+="</select>"}y||(b+=w+(s||!m||!g?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},d=p(c[0]),v=Math.max(d,p(c[1]||"")),d=r?Math.max(d,r.getFullYear()):d,v=i?Math.min(v,i.getFullYear()):v,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;d<=v;d++)e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}}return b+=this._get(e,"yearSuffix"),y&&(b+=(s||!m||!g?"&#xa0;":"")+w),b+="</div>",b},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n==="Y"?t:0),i=e.drawMonth+(n==="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n==="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n==="M"||n==="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");return a&&(n=a.split(":"),r=(new Date).getFullYear(),o=parseInt(n[0],10),u=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=r),n[1].match(/[+\-].*/)&&(u+=r)),(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick),$.datepicker.initialized=!0),$("#"+$.datepicker._mainDivId).length===0&&$("body").append($.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!=="isDisabled"&&e!=="getDate"&&e!=="widget"?e==="option"&&arguments.length===2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new i,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.11.0";var u=$.datepicker}),function(e,t){var n={},r=function(e,t){var n,r,i;if(typeof e=="string")return o(e);n=[];for(r=e.length,i=0;i<r;i++)n.push(o(e[i]));return t.apply(null,n)},i=function(e,t,n){arguments.length===2&&(n=t,t=null),r(t||[],function(){s(e,n,arguments)})},s=function(e,t,i){var s={exports:t},o;typeof t=="function"&&(i.length||(i=[r,s.exports,s]),o=t.apply(null,i),o!==undefined&&(s.exports=o)),n[e]=s.exports},o=function(t){var r=n[t]||e[t];if(!r)throw new Error("`"+t+"` is undefined");return r},u=function(e){var t,r,i,s,o,u;u=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(t in n){r=e;if(!n.hasOwnProperty(t))continue;i=t.split("/"),o=u(i.pop());while(s=u(i.shift()))r[s]=r[s]||{},r=r[s];r[o]=n[t]}return e},a=function(n){return e.__dollar=n,u(t(e,i,r))},f;typeof module=="object"&&typeof module.exports=="object"?module.exports=a():typeof define=="function"&&define.amd?define("webuploader",["jquery"],a):(f=e.WebUploader,e.WebUploader=a(),e.WebUploader.noConflict=function(){e.WebUploader=f})}(window,function(e,t,n){return t("dollar-third",[],function(){var t=e.__dollar||e.jQuery||e.Zepto;if(!t)throw new Error("jQuery or Zepto not found!");return t}),t("dollar",["dollar-third"],function(e){return e}),t("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&typeof e.then=="function"}}}),t("promise",["promise-third"],function(e){return e}),t("base",["dollar","promise"],function(t,n){function s(e){return function(){return i.apply(e,arguments)}}function o(e,t){return function(){return e.apply(t,arguments)}}function u(e){var t;return Object.create?Object.create(e):(t=function(){},t.prototype=e,new t)}var r=function(){},i=Function.call;return{version:"0.1.5",$:t,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),r=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),i=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),s=e.match(/Firefox\/([\d.]+)/),o=e.match(/Safari\/([\d.]+)/),u=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),r&&(t.chrome=parseFloat(r[1])),i&&(t.ie=parseFloat(i[1])),s&&(t.firefox=parseFloat(s[1])),o&&(t.safari=parseFloat(o[1])),u&&(t.opera=parseFloat(u[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),r=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),r&&(t.ios=parseFloat(r[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,n,r){var i;return typeof n=="function"?(i=n,n=null):n&&n.hasOwnProperty("constructor")?i=n.constructor:i=function(){return e.apply(this,arguments)},t.extend(!0,i,e,r||{}),i.__super__=e.prototype,i.prototype=u(e.prototype),n&&t.extend(!0,i.prototype,n),i},noop:r,bindFn:o,log:function(){return e.console?o(console.log,console):r}(),nextTick:function(){return function(e){setTimeout(e,1)}}(),slice:s([].slice),guid:function(){var e=0;return function(t){var n=(+(new Date)).toString(32),r=0;for(;r<5;r++)n+=Math.floor(Math.random()*65535).toString(32);return(t||"wu_")+n+(e++).toString(32)}}(),formatSize:function(e,t,n){var r;n=n||["B","K","M","G","TB"];while((r=n.shift())&&e>1024)e/=1024;return(r==="B"?e:e.toFixed(t||2))+r}}}),t("mediator",["base"],function(e){function s(e,n,r,i){return t.grep(e,function(e){return e&&(!n||e.e===n)&&(!r||e.cb===r||e.cb._cb===r)&&(!i||e.ctx===i)})}function o(e,n,i){t.each((e||"").split(r),function(e,t){i(t,n)})}function u(e,t){var n=!1,r=-1,i=e.length,s;while(++r<i){s=e[r];if(s.cb.apply(s.ctx2,t)===!1){n=!0;break}}return!n}var t=e.$,n=[].slice,r=/\s+/,i;return i={on:function(e,t,n){var r=this,i;return t?(i=this._events||(this._events=[]),o(e,t,function(e,t){var s={e:e};s.cb=t,s.ctx=n,s.ctx2=n||r,s.id=i.length,i.push(s)}),this):this},once:function(e,t,n){var r=this;return t?(o(e,t,function(e,t){var i=function(){return r.off(e,i),t.apply(n||r,arguments)};i._cb=t,r.on(e,i,n)}),r):r},off:function(e,n,r){var i=this._events;return i?!e&&!n&&!r?(this._events=[],this):(o(e,n,function(e,n){t.each(s(i,e,n,r),function(){delete i[this.id]})}),this):this},trigger:function(e){var t,r,i;return!this._events||!e?this:(t=n.call(arguments,1),r=s(this._events,e),i=s(this._events,"all"),u(r,t)&&u(i,arguments))}},t.extend({installTo:function(e){return t.extend(e,i)}},i)}),t("uploader",["base","mediator"],function(e,t){function r(e){this.options=n.extend(!0,{},r.options,e),this._init(this.options)}var n=e.$;return r.options={},t.installTo(r.prototype),n.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){r.prototype[e]=function(){return this.request(t,arguments)}}),n.extend(r.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var r=this.options;if(!(arguments.length>1))return e?r[e]:r;n.isPlainObject(t)&&n.isPlainObject(r[e])?n.extend(r[e],t):r[e]=t},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var r=[].slice.call(arguments,1),i=this.options,s="on"+e.substring(0,1).toUpperCase()+e.substring(1);return t.trigger.apply(this,arguments)===!1||n.isFunction(i[s])&&i[s].apply(this,r)===!1||n.isFunction(this[s])&&this[s].apply(this,r)===!1||t.trigger.apply(t,[this,e].concat(r))===!1?!1:!0},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=r.create=function(e){return new r(e)},e.Uploader=r,r}),t("runtime/runtime",["base","mediator"],function(e,t){function s(t){this.options=n.extend({container:document.body},t),this.uid=e.guid("rt_")}var n=e.$,r={},i=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return n.extend(s.prototype,{getContainer:function(){var e=this.options,t,r;return this._container?this._container:(t=n(e.container||document.body),r=n(document.createElement("div")),r.attr("id","rt_"+this.uid),r.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),t.append(r),t.addClass("webuploader-container"),this._container=r,this._parent=t,r)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),s.orders="html5,flash",s.addRuntime=function(e,t){r[e]=t},s.hasRuntime=function(e){return e?!!r[e]:!!i(r)},s.create=function(e,t){var o,u;t=t||s.orders,n.each(t.split(/\s*,\s*/g),function(){if(r[this])return o=this,!1}),o=o||i(r);if(!o)throw new Error("Runtime Error");return u=new r[o](e),u},t.installTo(s.prototype),s}),t("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){function i(t,i){var s=e.Deferred(),o;this.uid=e.guid("client_"),this.runtimeReady=function(e){return s.done(e)},this.connectRuntime=function(t,u){if(o)throw new Error("already connected!");return s.done(u),typeof t=="string"&&r.get(t)&&(o=r.get(t)),o=o||r.get(null,i),o?(e.$.extend(o.options,t),o.__promise.then(s.resolve),o.__client++):(o=n.create(t,t.runtimeOrder),o.__promise=s.promise(),o.once("ready",s.resolve),o.init(),r.add(o),o.__client=1),i&&(o.__standalone=i),o},this.getRuntime=function(){return o},this.disconnectRuntime=function(){if(!o)return;o.__client--,o.__client<=0&&(r.remove(o),delete o.__promise,o.destroy()),o=null},this.exec=function(){if(!o)return;var n=e.slice(arguments);return t&&n.unshift(t),o.exec.apply(this,n)},this.getRuid=function(){return o&&o.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var r;return r=function(){var e={};return{add:function(t){e[t.uid]=t},get:function(t,n){var r;if(t)return e[t];for(r in e){if(n&&e[r].__standalone)continue;return e[r]}return null},remove:function(t){delete e[t.uid]}}}(),t.installTo(i.prototype),i}),t("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},i.options,e),e.container=r(e.container);if(!e.container.length)return;n.call(this,"DragAndDrop")}var r=e.$;return i.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/widget",["base","uploader"],function(e,t){function u(e){if(!e)return!1;var t=e.length,r=n.type(e);return e.nodeType===1&&t?!0:r==="array"||r!=="function"&&r!=="string"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function a(e){this.owner=e,this.options=e.options}var n=e.$,r=t.prototype._init,i=t.prototype.destroy,s={},o=[];return n.extend(a.prototype,{init:e.noop,invoke:function(e,t){var r=this.responseMap;return!!r&&e in r&&r[e]in this&&!!n.isFunction(this[r[e]])?this[r[e]].apply(this,t):s},request:function(){return this.owner.request.apply(this.owner,arguments)}}),n.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],i=e.options.disableWidgets||"";return n.each(o,function(n,r){(!i||!~i.indexOf(r._name))&&t.push(new r(e))}),r.apply(e,arguments)},request:function(t,n,r){var i=0,o=this._widgets,a=o&&o.length,f=[],l=[],c,h,p,d;n=u(n)?n:[n];for(;i<a;i++)c=o[i],h=c.invoke(t,n),h!==s&&(e.isPromise(h)?l.push(h):f.push(h));return r||l.length?(p=e.when.apply(e,l),d=p.pipe?"pipe":"then",p[d](function(){var t=e.Deferred(),n=arguments;return n.length===1&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[r?d:"done"](r||e.noop)):f[0]},destroy:function(){i.apply(this,arguments),this._widgets=null}}),t.register=a.register=function(t,r){var i={init:"init",destroy:"destroy",name:"anonymous"},s;return arguments.length===1?(r=t,n.each(r,function(e){if(e[0]==="_"||e==="name"){e==="name"&&(i.name=r.name);return}i[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e})):i=n.extend(i,t),r.responseMap=i,s=e.inherits(a,r),s._name=i.name,o.push(s),s},t.unRegister=a.unRegister=function(e){if(!e||e==="anonymous")return;for(var t=o.length;t--;)o[t]._name===e&&o.splice(t,1)},a}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(e,t,n){var r=e.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(!t.dnd||this.request("predict-runtime-type")!=="html5")return;var i=this,s=e.Deferred(),o=r.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept}),u;return this.dnd=u=new n(o),u.once("ready",s.resolve),u.on("drop",function(e){i.request("add-file",[e])}),u.on("accept",function(e){return i.owner.trigger("dndAccept",e)}),u.init(),s.promise()},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},e),e.container=r(e.container||document.body),n.call(this,"FilePaste")}var r=e.$;return e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(e,t,n){var r=e.$;return t.register({name:"paste",init:function(t){if(!t.paste||this.request("predict-runtime-type")!=="html5")return;var i=this,s=e.Deferred(),o=r.extend({},{container:t.paste,accept:t.accept}),u;return this.paste=u=new n(o),u.once("ready",s.resolve),u.on("paste",function(e){i.owner.request("add-file",[e])}),u.init(),s.promise()},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){var r=this;r.source=n,r.ruid=e,this.size=n.size||0,!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+(this.ext==="jpg"?"jpeg":this.ext):this.type=n.type||"application/octet-stream",t.call(r,"Blob"),this.uid=n.uid||this.uid,e&&r.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),t("lib/file",["base","lib/blob"],function(e,t){function i(e,i){var s;this.name=i.name||"untitled"+n++,s=r.exec(i.name)?RegExp.$1.toLowerCase():"",!s&&i.type&&(s=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(i.type)?RegExp.$1.toLowerCase():"",this.name+="."+s),this.ext=s,this.lastModifiedDate=i.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)}var n=1,r=/\.([^.]+)$/;return e.inherits(t,i)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,n,r){function s(e){e=this.options=i.extend({},s.options,e),e.container=i(e.id);if(!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=i(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),n.call(this,"FilePicker",!0)}var i=t.$;return s.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},t.inherits(n,{constructor:s,init:function(){var n=this,s=n.options,o=s.button;o.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":o.addClass("webuploader-pick-hover");break;case"mouseleave":o.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",i.map(t,function(e){return e=new r(n.getRuid(),e),e._refer=s.container,e}),s.container)}}),n.connectRuntime(s,function(){n.refresh(),n.exec("init",s),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),i(e).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),r=t.outerHeight?t.outerHeight():t.height(),i=t.offset();n&&r&&e.css({bottom:"auto",right:"auto",width:n+"px",height:r+"px"}).offset(i)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;i(e).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),s}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var r=e.$;return r.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){r.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var i=this,s=i.options,o=s.accept,u=[];if(!t)return;return r.isPlainObject(t)||(t={id:t}),r(t.id).each(function(){var a,f,l;l=e.Deferred(),a=r.extend({},t,{accept:r.isPlainObject(o)?[o]:o,swf:s.swf,runtimeOrder:s.runtimeOrder,id:this}),f=new n(a),f.once("ready",l.resolve),f.on("select",function(e){i.owner.request("add-file",[e])}),f.init(),i.pickers.push(f),u.push(l.promise())}),e.when.apply(e,u)},disable:function(){r.each(this.pickers,function(){this.disable()})},enable:function(){r.each(this.pickers,function(){this.enable()})},destroy:function(){r.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("file",["base","mediator"],function(e,t){function u(){return r+i++}function a(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||new Date*1,this.id=u(),this.ext=s.exec(this.name)?RegExp.$1:"",this.statusText="",o[this.id]=a.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(a.Status.ERROR,e)})}var n=e.$,r="WU_FILE_",i=0,s=/\.([^.]+)$/,o={};return n.extend(a.prototype,{setStatus:function(e,t){var n=o[this.id];typeof t!="undefined"&&(this.statusText=t),e!==n&&(o[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return o[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete o[this.id]}}),t.installTo(a.prototype),a.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},a}),t("queue",["base","mediator","file"],function(e,t,n){function s(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var r=e.$,i=n.Status;return r.extend(s.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return typeof e!="string"?e:this._map[e]},fetch:function(e){var t=this._queue.length,n,r;e=e||i.QUEUED;for(n=0;n<t;n++){r=this._queue[n];if(e===r.getStatus())return r}return null},sort:function(e){typeof e=="function"&&this._queue.sort(e)},getFiles:function(){var e=[].slice.call(arguments,0),t=[],n=0,i=this._queue.length,s;for(;n<i;n++){s=this._queue[n];if(e.length&&!~r.inArray(s.getStatus(),e))continue;t.push(s)}return t},removeFile:function(e){var t=this,n=this._map[e.id];n&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this,n=this._map[e.id];n||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case i.PROGRESS:n.numOfProgress--;break;case i.QUEUED:n.numOfQueue--;break;case i.ERROR:n.numOfUploadFailed--;break;case i.INVALID:n.numOfInvalid--;break;case i.INTERRUPT:n.numofInterrupt--}switch(e){case i.QUEUED:n.numOfQueue++;break;case i.PROGRESS:n.numOfProgress++;break;case i.ERROR:n.numOfUploadFailed++;break;case i.COMPLETE:n.numOfSuccess++;break;case i.CANCELLED:n.numOfCancel++;break;case i.INVALID:n.numOfInvalid++;break;case i.INTERRUPT:n.numofInterrupt++}}}),t.installTo(s.prototype),s}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,r,i,s){var o=e.$,u=/\.\w+$/,a=r.Status;return t.register({name:"queue",init:function(t){var r=this,i,u,a,f,l,c,h;o.isPlainObject(t.accept)&&(t.accept=[t.accept]);if(t.accept){l=[];for(a=0,u=t.accept.length;a<u;a++)f=t.accept[a].extensions,f&&l.push(f);l.length&&(c="\\."+l.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),r.accept=new RegExp(c,"i")}r.queue=new n,r.stats=r.queue.stats;if(this.request("predict-runtime-type")!=="html5")return;return i=e.Deferred(),this.placeholder=h=new s("Placeholder"),h.connectRuntime({runtimeOrder:"html5"},function(){r._ruid=h.getRuid(),i.resolve()}),i.promise()},_wrapFile:function(e){if(!(e instanceof r)){if(!(e instanceof i)){if(!this._ruid)throw new Error("Can't add external files.");e=new i(this._ruid,e)}e=new r(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&u.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;e=t._wrapFile(e);if(!t.owner.trigger("beforeFileQueued",e))return;if(!t.acceptFile(e)){t.owner.trigger("error","Q_TYPE_DENIED",e);return}return t.queue.append(e),t.owner.trigger("fileQueued",e),e},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=o.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.id?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n=this,r,i,s;if(e){e=e.id?e:n.queue.getFile(e),e.setStatus(a.QUEUED),t||n.request("start-upload");return}r=n.queue.getFiles(a.ERROR),i=0,s=r.length;for(;i<s;i++)e=r[i],e.setStatus(a.QUEUED);n.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e=this.options.runtimeOrder||t.orders,n=this.type,r,i;if(!n){e=e.split(/\s*,\s*/g);for(r=0,i=e.length;r<i;r++)if(t.hasRuntime(e[r])){this.type=n=e[r];break}}return n}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,t,n){function i(e){var n=this;e=n.options=r.extend(!0,{},i.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}var r=e.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(e,t,n){var r=this,i=r.options;r.getRuid()&&r.disconnectRuntime(),r.connectRuntime(t.ruid,function(){r.exec("init")}),r._blob=t,i.fileVal=e||i.fileVal,i.filename=n||i.filename},append:function(e,t){typeof e=="object"?r.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){typeof e=="object"?r.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;if(!t)return;clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t)}}),n.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,r){function u(e,t){var n=[],r=e.source,i=r.size,s=t?Math.ceil(i/t):1,o=0,u=0,a,f;f={file:e,has:function(){return!!n.length},shift:function(){return n.shift()},unshift:function(e){n.unshift(e)}};while(u<s)a=Math.min(t,i-o),n.push({file:e,start:o,end:t?o+a:i,total:i,chunks:s,chunk:u++,cuted:f}),o+=a;return e.blocks=n.concat(),e.remaning=n.length,f}var i=e.$,s=e.isPromise,o=n.Status;i.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&i.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;i.each(n.request("get-files",o.INVALID),function(){n.request("remove-file",this)});if(t){t=t.id?t:n.request("get-file",t);if(t.getStatus()===o.INTERRUPT)i.each(n.pool,function(e,n){if(n.file!==t)return;n.transport&&n.transport.send()}),t.setStatus(o.QUEUED);else{if(t.getStatus()===o.PROGRESS)return;t.setStatus(o.QUEUED)}}else i.each(n.request("get-files",[o.INITED]),function(){this.setStatus(o.QUEUED)});if(n.runing)return;n.runing=!0;var r=[];i.each(n.pool,function(e,t){var i=t.file;i.getStatus()===o.INTERRUPT&&(r.push(i),n._trigged=!1,t.transport&&t.transport.send())});var t;while(t=r.shift())t.setStatus(o.PROGRESS);t||i.each(n.request("get-files",o.INTERRUPT),function(){this.setStatus(o.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")},stopUpload:function(t,n){var r=this;t===!0&&(n=t,t=null);if(r.runing===!1)return;if(t){t=t.id?t:r.request("get-file",t);if(t.getStatus()!==o.PROGRESS&&t.getStatus()!==o.QUEUED)return;return t.setStatus(o.INTERRUPT),i.each(r.pool,function(e,n){if(n.file!==t)return;n.transport&&n.transport.abort(),r._putback(n),r._popBlock(n)}),e.nextTick(r.__tick)}r.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(o.INTERRUPT),n&&i.each(r.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(o.INTERRUPT)}),r.owner.trigger("stopUpload")},cancelFile:function(e){e=e.id?e:this.request("get-file",e),e.blocks&&i.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(o.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){e=e.id?e:this.request("get-file",e),e.setStatus(t||o.COMPLETE),e.skipped=!0,e.blocks&&i.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t=this,n=t.options,r,i;if(t._promise)return t._promise.always(t.__tick);t.pool.length<n.threads&&(i=t._nextBlock())?(t._trigged=!1,r=function(n){t._promise=null,n&&n.file&&t._startSend(n),e.nextTick(t.__tick)},t._promise=s(i)?i.always(r):r(i)):!t.remaning&&!t._getStats().numOfQueue&&!t._getStats().numofInterrupt&&(t.runing=!1,t._trigged||e.nextTick(function(){t.owner.trigger("uploadFinished")}),t._trigged=!0)},_putback:function(e){var t;e.cuted.unshift(e),t=this.stack.indexOf(e.cuted),~t||this.stack.unshift(e.cuted)},_getStack:function(){var e=0,t;while(t=this.stack[e++]){if(t.has()&&t.file.getStatus()===o.PROGRESS)return t;(!t.has()||t.file.getStatus()!==o.PROGRESS&&t.file.getStatus()!==o.INTERRUPT)&&this.stack.splice(--e,1)}return null},_nextBlock:function(){var e=this,t=e.options,n,r,i,o;if(n=this._getStack())return t.prepareNextFile&&!e.pending.length&&e._prepareNextFile(),n.shift();if(e.runing)return!e.pending.length&&e._getStats().numOfQueue&&e._prepareNextFile(),r=e.pending.shift(),i=function(r){return r?(n=u(r,t.chunked?t.chunkSize:0),e.stack.push(n),n.shift()):null},s(r)?(o=r.file,r=r[r.pipe?"pipe":"then"](i),r.file=o,r):i(r)},_prepareNextFile:function(){var e=this,t=e.request("fetch-file"),n=e.pending,r;t&&(r=e.request("before-send-file",t,function(){return t.getStatus()===o.PROGRESS||t.getStatus()===o.INTERRUPT?t:e._finishFile(t)}),e.owner.trigger("uploadStart",t),t.setStatus(o.PROGRESS),r.file=t,r.done(function(){var e=i.inArray(r,n);~e&&n.splice(e,1,t)}),r.fail(function(n){t.setStatus(o.ERROR,n),e.owner.trigger("uploadError",t,n),e.owner.trigger("uploadComplete",t)}),n.push(r))},_popBlock:function(e){var t=i.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n=this,r=t.file,i;if(r.getStatus()!==o.PROGRESS){r.getStatus()===o.INTERRUPT&&n._putback(t);return}n.pool.push(t),n.remaning++,t.blob=t.chunks===1?r.source:r.source.slice(t.start,t.end),i=n.request("before-send",t,function(){r.getStatus()===o.PROGRESS?n._doSend(t):(n._popBlock(t),e.nextTick(n.__tick))}),i.fail(function(){r.remaning===1?n._finishFile(r).always(function(){t.percentage=1,n._popBlock(t),n.owner.trigger("uploadComplete",r),e.nextTick(n.__tick)}):(t.percentage=1,n.updateFileProgress(r),n._popBlock(t),e.nextTick(n.__tick))})},_doSend:function(t){var n=this,s=n.owner,u=n.options,a=t.file,f=new r(u),l=i.extend({},u.formData),c=i.extend({},u.headers),h,p;t.transport=f,f.on("destroy",function(){delete t.transport,n._popBlock(t),e.nextTick(n.__tick)}),f.on("progress",function(e){t.percentage=e,n.updateFileProgress(a)}),h=function(e){var n;return p=f.getResponseAsJson()||{},p._raw=f.getResponse(),n=function(t){e=t},s.trigger("uploadAccept",t,p,n)||(e=e||"server"),e},f.on("error",function(e,n){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<u.chunkRetry?(t.retried++,f.send()):(!n&&e==="server"&&(e=h(e)),a.setStatus(o.ERROR,e),s.trigger("uploadError",a,e),s.trigger("uploadComplete",a))}),f.on("load",function(){var e;if(e=h()){f.trigger("error",e,!0);return}a.remaning===1?n._finishFile(a,p):f.destroy()}),l=i.extend(l,{id:a.id,name:a.name,type:a.type,lastModifiedDate:a.lastModifiedDate,size:a.size}),t.chunks>1&&i.extend(l,{chunks:t.chunks,chunk:t.chunk}),s.trigger("uploadBeforeSend",t,l,c),f.appendBlob(u.fileVal,t.blob,a.name),f.append(l),f.setRequestHeader(c),f.send()},_finishFile:function(e,t,n){var r=this.owner;return r.request("after-send-file",arguments,function(){e.setStatus(o.COMPLETE),r.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===o.PROGRESS&&e.setStatus(o.ERROR,t),r.trigger("uploadError",e,t)}).always(function(){r.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t=0,n=0;if(!e.blocks)return;i.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0)}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var r=e.$,i={},s;return s={addValidator:function(e,t){i[e]=t},removeValidator:function(e){delete i[e]}},t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){r.each(i,function(){this.call(t.owner)})})}}),s.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,r=parseInt(t.fileNumLimit,10),i=!0;if(!r)return;e.on("beforeFileQueued",function(e){return n>=r&&i&&(i=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",r,e),setTimeout(function(){i=!0},1)),n>=r?!1:!0}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0})}),s.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,r=parseInt(t.fileSizeLimit,10),i=!0;if(!r)return;e.on("beforeFileQueued",function(e){var t=n+e.size>r;return t&&i&&(i=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",r,e),setTimeout(function(){i=!0},1)),t?!1:!0}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0})}),s.addValidator("fileSingleSizeLimit",function(){var e=this,t=e.options,r=t.fileSingleSizeLimit;if(!r)return;e.on("beforeFileQueued",function(e){if(e.size>r)return e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",r,e),!1})}),s.addValidator("duplicate",function(){function r(e){var t=0,n=0,r=e.length,i;for(;n<r;n++)i=e.charCodeAt(n),t=i+(t<<6)+(t<<16)-t;return t}var e=this,t=e.options,n={};if(t.duplicate)return;e.on("beforeFileQueued",function(e){var t=e.__hash||(e.__hash=r(e.name+e.size+e.lastModifiedDate));if(n[t])return this.trigger("error","F_DUPLICATE",e),!1}),e.on("fileQueued",function(e){var t=e.__hash;t&&(n[t]=!0)}),e.on("fileDequeued",function(e){var t=e.__hash;t&&delete n[t]}),e.on("reset",function(){n={}})}),s}),t("runtime/compbase",[],function(){function e(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}return e}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,r){function o(){var e={},r=this,o=this.destroy;n.apply(r,arguments),r.type=i,r.exec=function(n,i){var o=this,u=o.uid,a=t.slice(arguments,2),f;if(s[n]){f=e[u]=e[u]||new s[n](o,r);if(f[i])return f[i].apply(f,a)}},r.destroy=function(){return o&&o.apply(this,arguments)}}var i="html5",s={};return t.inherits(n,{constructor:o,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),o.register=function(e,n){var i=s[e]=t.inherits(r,n);return i},e.Blob&&e.FileReader&&e.DataView&&n.addRuntime(i,o),o}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var r=this.owner.source,i=r.slice||r.webkitSlice||r.mozSlice;return r=i.call(r,e,n),new t(this.getRuid(),r)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(e,t,n){var r=e.$,i="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=e.bindFn(this._dragEnterHandler,this),this.dragOverHandler=e.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=e.bindFn(this._dragLeaveHandler,this),this.dropHandler=e.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(r(document).on("dragover",this.dragOverHandler),r(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t=this,n=t._denied||!1,r;return e=e.originalEvent||e,t.dndOver||(t.dndOver=!0,r=e.dataTransfer.items,r&&r.length&&(t._denied=n=!t.trigger("accept",r)),t.elem.addClass(i+"over"),t.elem[n?"addClass":"removeClass"](i+"denied")),e.dataTransfer.dropEffect=n?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return t&&!r.contains(t,e.currentTarget)?!1:(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),!1)},_dragLeaveHandler:function(){var e=this,t;return t=function(){e.dndOver=!1,e.elem.removeClass(i+"over "+i+"denied")},clearTimeout(e._leaveTimer),e._leaveTimer=setTimeout(t,100),!1},_dropHandler:function(e){var t=this,s=t.getRuid(),o=t.elem.parent().get(0),u,a;if(o&&!r.contains(o,e.currentTarget))return!1;e=e.originalEvent||e,u=e.dataTransfer;try{a=u.getData("text/html")}catch(f){}if(a)return;return t._getTansferFiles(u,function(e){t.trigger("drop",r.map(e,function(e){return new n(s,e)}))}),t.dndOver=!1,t.elem.removeClass(i+"over"),!1},_getTansferFiles:function(t,n){var r=[],i=[],s,o,u,a,f,l,c;s=t.items,o=t.files,c=!!s&&!!s[0].webkitGetAsEntry;for(f=0,l=o.length;f<l;f++)u=o[f],a=s&&s[f],c&&a.webkitGetAsEntry().isDirectory?i.push(this._traverseDirectoryTree(a.webkitGetAsEntry(),r)):r.push(u);e.when.apply(e,i).done(function(){if(!r.length)return;n(r)})},_traverseDirectoryTree:function(t,n){var r=e.Deferred(),i=this;return t.isFile?t.file(function(e){n.push(e),r.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){var s=t.length,o=[],u=[],a;for(a=0;a<s;a++)o.push(i._traverseDirectoryTree(t[a],u));e.when.apply(e,o).then(function(){n.push.apply(n,u),r.resolve()},r.reject)}),r.promise()},destroy:function(){var e=this.elem;if(!e)return;e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(r(document).off("dragover",this.dragOverHandler),r(document).off("drop",this.dropHandler))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(e,t,n){return t.register("FilePaste",{init:function(){var t=this.options,n=this.elem=t.container,r=".*",i,s,o,u;if(t.accept){i=[];for(s=0,o=t.accept.length;s<o;s++)u=t.accept[s].mimeTypes,u&&i.push(u);i.length&&(r=i.join(","),r=r.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=r=new RegExp(r,"i"),this.hander=e.bindFn(this._pasteHander,this),n.on("paste",this.hander)},_pasteHander:function(e){var t=[],r=this.getRuid(),i,s,o,u,a;e=e.originalEvent||e,i=e.clipboardData.items;for(u=0,a=i.length;u<a;u++){s=i[u];if(s.kind!=="file"||!(o=s.getAsFile()))continue;t.push(new n(r,o))}t.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",t))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e=this.getRuntime().getContainer(),t=this,r=t.owner,i=t.options,s=this.label=n(document.createElement("label")),o=this.input=n(document.createElement("input")),u,a,f,l;o.attr("type","file"),o.attr("name",i.name),o.addClass("webuploader-element-invisible"),s.on("click",function(){o.trigger("click")}),s.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),i.multiple&&o.attr("multiple","multiple");if(i.accept&&i.accept.length>0){u=[];for(a=0,f=i.accept.length;a<f;a++)u.push(i.accept[a].mimeTypes);o.attr("accept",u.join(","))}e.append(o),e.append(s),l=function(e){r.trigger(e.type)},o.on("change",function(e){var i=arguments.callee,s;t.files=e.target.files,s=this.cloneNode(!0),s.value=null,this.parentNode.replaceChild(s,this),o.off(),o=n(s).on("change",i).on("mouseenter mouseleave",l),r.trigger("change")}),s.on("mouseenter mouseleave",l)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,r=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t=this.owner,n=this.options,i=this._initAjax(),s=t._blob,o=n.server,u,a,f;n.sendAsBinary?(o+=(/\?/.test(o)?"&":"?")+r.param(t._formData),a=s.getSource()):(u=new FormData,r.each(t._formData,function(e,t){u.append(e,t)}),u.append(n.fileVal,s.getSource(),n.filename||t._formData.name||"")),n.withCredentials&&"withCredentials"in i?(i.open(n.method,o,!0),i.withCredentials=!0):i.open(n.method,o),this._setRequestHeader(i,n.headers),a?(i.overrideMimeType&&i.overrideMimeType("application/octet-stream"),e.os.android?(f=new FileReader,f.onload=function(){i.send(this.result),f=f.onload=null},f.readAsArrayBuffer(a)):i.send(a)):i.send(u)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest,r=this.options;return r.withCredentials&&!("withCredentials"in t)&&typeof XDomainRequest!="undefined"&&(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){if(t.readyState!==4)return;return t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")},e._xhr=t,t},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t={}}return t}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,r){function u(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}function a(){function l(e,t){var n=e.type||e,r,s;r=n.split("::"),s=r[0],n=r[1],n==="Ready"&&s===a.uid?a.trigger("ready"):i[s]&&i[s].trigger(n.toLowerCase(),e,t)}var r={},i={},u=this.destroy,a=this,f=t.guid("webuploader_");n.apply(a,arguments),a.type=s,a.exec=function(e,n){var s=this,u=s.uid,f=t.slice(arguments,2),l;i[u]=s;if(o[e]){r[u]||(r[u]=new o[e](s,a)),l=r[u];if(l[n])return l[n].apply(l,f)}return a.flashExec.apply(s,arguments)},e[f]=function(){var e=arguments;setTimeout(function(){l.apply(null,e)},1)},this.jsreciver=f,this.destroy=function(){return u&&u.apply(this,arguments)},this.flashExec=function(e,n){var r=a.getFlash(),i=t.slice(arguments,2);return r.exec(this.uid,e,n,i)}}var i=t.$,s="flash",o={};return t.inherits(n,{constructor:a,init:function(){var e=this.getContainer(),n=this.options,r;e.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),r='<object id="'+this.uid+'" type="application/'+'x-shockwave-flash" data="'+n.swf+'" ',t.browser.ie&&(r+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),r+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.swf+'" />'+'<param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowscriptaccess" value="always" />'+"</object>",e.html(r)},getFlash:function(){return this._flash?this._flash:(this._flash=i("#"+this.uid).get(0),this._flash)}}),a.register=function(e,n){return n=o[e]=t.inherits(r,i.extend({flashExec:function(){var e=this.owner,t=this.getRuntime();return t.flashExec.apply(e,arguments)}},n)),n},u()>=11.4&&n.addRuntime(s,a),a}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(e){var t=n.extend({},e),r,i;r=t.accept&&t.accept.length;for(i=0;i<r;i++)t.accept[i].title||(t.accept[i].title="Files");delete t.button,delete t.id,delete t.container,this.flashExec("FilePicker","init",t)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(t,n,r){var i=t.$;return n.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e=this.owner,t=this.options,n=this._initAjax(),r=e._blob,s=t.server,o;n.connectRuntime(r.ruid),t.sendAsBinary?(s+=(/\?/.test(s)?"&":"?")+i.param(e._formData),o=r.uid):(i.each(e._formData,function(e,t){n.exec("append",e,t)}),n.exec("appendBlob",t.fileVal,r.uid,t.filename||e._formData.name||"")),this._setRequestHeader(n,t.headers),n.exec("send",{method:t.method,url:s,forceURLStream:t.forceURLStream,mimeType:"application/octet-stream"},o)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var t=this,n=new r("XMLHttpRequest");return n.on("uploadprogress progress",function(e){var n=e.loaded/e.total;return n=Math.min(1,Math.max(0,n)),t.trigger("progress",n)}),n.on("load",function(){var r=n.exec("getStatus"),i=!1,s="",o;n.off(),t._xhr=null,r>=200&&r<300?i=!0:r>=500&&r<600?(i=!0,s="server"):s="http";if(i){t._response=n.exec("getResponse"),t._response=decodeURIComponent(t._response),o=e.JSON&&e.JSON.parse||function(e){try{return(new Function("return "+e)).call()}catch(t){return{}}};try{t._responseJson=t._response?o(t._response):{}}catch(u){}}return n.destroy(),n=null,s?t.trigger("error",s):t.trigger("load")}),n.on("error",function(){n.off(),t._xhr=null,t.trigger("error","http")}),t._xhr=n,n},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var r=this.flashExec("Blob","slice",e,n);return new t(r.uid,r)}})}),t("preset/withoutimage",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/transport","runtime/flash/filepicker","runtime/flash/transport","runtime/flash/blob"],function(e){return e}),t("webuploader",["preset/withoutimage"],function(e){return e}),n("webuploader")}),define("xml2json",["jquery"],function(){window.jQuery&&function(e){e.extend({xml2json:function(t,n){function r(t,s){if(!t)return null;var u="",a=null,f=null,l=t.nodeType,c=i(t.localName||t.nodeName),h=t.text||t.nodeValue||"";t.childNodes&&t.childNodes.length>0&&e.each(t.childNodes,function(e,t){var n=t.nodeType,s=i(t.localName||t.nodeName),f=t.text||t.nodeValue||"";if(n==8)return;if(n==3||n==4||!s){if(f.match(/^\s+$/))return;u+=f.replace(/^\s+/,"").replace(/\s+$/,"")}else a=a||{},a[s]?(a[s].length||(a[s]=o(a[s])),a[s]=o(a[s]),a[s][a[s].length]=r(t,!0),a[s].length=a[s].length):a[s]=r(t)}),t.attributes&&t.attributes.length>0&&(f={},a=a||{},e.each(t.attributes,function(e,t){var n=i(t.name),r=t.value;f[n]=r,a[n]?(a[cnn]=o(a[cnn]),a[n][a[n].length]=r,a[n].length=a[n].length):a[n]=r})),a&&(a=e.extend(u!=""?new String(u):{},a||{}),u=a.text?[a.text||""].concat([u]):u,u&&(a.text=u),u="");var p=a||u;return n&&(u&&(p={}),u=p.text||u||"",u&&(p.text=u),s||(p=o(p))),p}function s(e){var t=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return typeof e=="number"||t.test(String(e&&typeof e=="string"?jQuery.trim(e):""))}if(!t)return{};var i=function(e){return String(e||"").replace(/-/g,"_")},o=function(t){return e.isArray(t)||(t=[t]),t.length=t.length,t};typeof t=="string"&&(t=e.text2xml(t));if(!t.nodeType)return;if(t.nodeType==3||t.nodeType==4)return t.nodeValue;var u=t.nodeType==9?t.documentElement:t,a=r(u,!0);return t=null,u=null,a},text2xml:function(t){return e.parseXML(t)}})}(jQuery)}),define("customOnekey",["jquery","avalon","dataServices","collect","datepicker","webuploader","xml2json"],function(e,t,n,r,i,s,o){var u={doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",dot:"application/msword",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xlt:"application/vnd.ms-excel",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",pot:"application/vnd.ms-powerpoint",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",pps:"application/vnd.ms-powerpoint",wps:"application/kswps",dps:"application/octet-stream",et:"application/octet-stream",wpt:"application/kswps",dpt:"application/octet-stream",ett:"application/octet-stream",jpg:"image/jpeg",ai:"application/postscript",eps:"application/postscript",cdr:"application/octet-stream",pdf:"application/pdf",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",csv:"application/vnd.ms-excel",rar:"application/octet-stream",zip:"application/octet-stream",png:"image/png"},a=[],f=[];t.each(u,function(e,t){f.push(e),a.push(t)}),a=a.join(",");var l=f.join(","),c={auto:!0,swf:"/application/partner/views/custom/js/ui/webuploader/Uploader.swf",fileVal:"file",method:"POST",formData:{}},h=function(e,t,n){n["Access-Control-Allow-Origin"]="*",n["Access-Control-Request-Headers"]="content-type",n["Access-Control-Request-Method"]="POST",delete t.id,delete t.name,delete t.type,delete t.lastModifiedDate,delete t.size};s.Uploader.register({"before-send-file":"getToken"},{getToken:function(){var e=s.Base.Deferred(),t=this.owner,r=t.option("upType"),i=t.option("overUp"),o={filename:arguments[0].name,filetype:r};return d.fileName=arguments[0].name,d.data.fileName=arguments[0].name,n.get("custom").upload_token({data:o}).done(function(n){n.result==="ok"?(t.option("formData",n.data),t.option("server",n.data.host),e.resolve()):e.resolve(!1)}),e.promise()}});var p={tag:"",tagName:"",content:"",occupation:"其他",fileForm:"WORD",et_purpose:"其他",fileName:"",fileUrl:"",detail:"",qq:"",email:"",tel:"",price:"",need_invoice:!1,receiptTitle:"",purpose:[],profession:"其他",style:"其他",viewOutput:"其他",scale:"其他",effect:"其他效果",date:"",is_urgent:!1},d=t.define({$id:"customOnekeyCtrl",customMap:{word:"个性简历",ppt:"演示PPT",et:"数据表格"},showMe:!1,designerTag:"ppt",fileName:"",showCustomCase:!1,data:p,showMoreInfo:!1,showServieInfo:!0,payState:0,submit_btn_name:"为我定制",checkState:!1,baseData:{occupation:["应届生","职场新人","跳槽","企业高管","行业专家","其他"],et_purpose:["购销发货","办公常用","市场销售","人力资源","其他"],purpose:["产品推介","节日庆典","计划总结","创业融资","产品发布","述职汇报","年会颁奖","结婚庆典","公司介绍","简历竞聘","其他"],profession:["科技","教育","党政","金融","文艺","运动","交通","物流","广告","旅游","能源","通讯","生物","制造","工业","农牧业","互联网","电子商务","房地产","医疗制药","影视传媒","新闻媒体","通用性"],style:["商务","简约","复古","淡雅","中国风","韩范","欧美","可爱","创意","卡通","扁平","梦幻","酷炫","另类","清新","杂志风","科技","工业","生物","环保","其他"],viewOutput:["柱状图","折线图","条形图","饼图","面积图","圆环图","其他"],effect:["动态(动画效果)","静态(图片展示)","其他效果"],scale:["宽屏(16:9)","普屏(4:3)","竖屏","其他"]},show:{purpose:!1,profession:!1,style:!1,viewOutput:!1,effect:!1,scale:!1},setDesignerTag:function(e){d.designerTag=e,d.data=p,d.data.tag=e,d.checkState=!1,d.fileError="",d.designerTag=="word"&&(d.data.price=68)},init:function(){d.data=p,d.showMoreInfo=!1,d.showMe=!0;var e=d.getQueryStringRegExp("app")||"wps",t={wps:"word",wpp:"ppt",et:"et"};d.setDesignerTag(t[e]?t[e]:"ppt"),d.checkState=!1,d.createDateUI(),d.createUploadButton()},submit_order:function(){d.checkState=!0;if(!d.check_order_data()||d.submit_btn_name!="为我定制")return;d.submit_btn_name="提交中...";var t={custom_type:"",name:d.data.content,use_for:"",style:"",detail:d.data.detail,attachements:d.data.fileUrl,date:d.data.date,price:d.data.price,qq:d.data.qq,phone:d.data.tel,email:d.data.email,need_invoice:d.data.need_invoice?1:0,animation:d.data.effect,screen_size:d.data.scale,is_urgent:d.data.is_urgent?1:0},r={word:"个性简历",ppt:"演示PPT",et:"数据表格"};d.designerTag=="word"?(t.custom_type=r[d.designerTag]+(d.showMoreInfo?"-"+d.data.fileForm:""),t.use_for=d.data.occupation):(t.custom_type=r[d.designerTag]+(d.designerTag=="et"?"-"+d.data.et_purpose:""),d.showMoreInfo&&(t.use_for=d.data.profession+","+d.data.purpose.toString()),t.style=d.designerTag=="ppt"?d.data.style:d.data.viewOutput);var i={word:["custom_type","use_for","attachements","price","qq","phone","email","is_urgent","need_invoice"],wordMore:["date"],ppt:["custom_type","name","detail","attachements","price","qq","phone","email","need_invoice","is_urgent"],pptMore:["use_for","style","date","animation","screen_size"],et:["custom_type","detail","attachements","price","qq","phone","email","need_invoice","is_urgent"],etMore:["use_for","style","date"]},s={},o=i[d.designerTag].concat(d.showMoreInfo?i[d.designerTag+"More"]:[]);e.each(o,function(e,n){s[n]=t[n]}),s.source="wps_client",n.get("custom").submit_oneKey({data:s}).done(function(e){e.result=="ok"&&(d.payState=1,d.designerTag=="word"&&(d.payState=2,d.openlink("https://vip.wps.cn/pay/custom_resume/?dsid=203283058&csource=docercustom&money="+d.data.price+"&from=&email="+d.data.email+"&quick="+(d.data.is_urgent?1:0))))}).always(function(){d.submit_btn_name="为我定制"})},check_order_data:function(){if(!d.data.tel||!d.data.email||!d.data.qq||!d.data.price||!d.checkPhone()||!d.checkEmail()||!d.checkPrice())return!1;if(d.designerTag=="word"){if(!d.data.fileUrl||d.showMoreInfo&&!d.data.date)return!1}else if(d.designerTag=="et"||d.designerTag=="ppt"){if(!d.data.detail||!d.data.content&&d.designerTag=="ppt")return!1;if(d.showMoreInfo&&(!d.data.date||!d.data.purpose.length))return!1}return!0},goCustomPrice:function(){var e="http://chn.docer.com/custom/";d.designerTag=="word"?e+="resume.html":d.designerTag=="ppt"?e+="ppt.html":d.designerTag=="et"&&(e+="chart.html"),e+="#3",d.openlink(e)},createUploadButton:function(){d.createUpload("idUploadFile","",50),d.createUpload("idUploadFile2","",50),d.createUpload("idUploadFile3","",50),d.createUpload("idUploadFile4","",50),d.createUpload("idUploadFile5","",50),d.createUpload("idUploadFile6","",50),d.createUpload("idUploadFile7","",50),d.createUpload("idUploadFile8","",50),d.createUpload("idUploadFile9","",50)},applyCase:function(){var e="项目标题：XXX公司报表设计\n公司名称：XXX珠光宝器\n经营范围：黄金、白银、钻石、翡翠、彩色宝石等珠宝\n公司网址：www.XXX.com\n\n主要用途：介绍实体店、网店、柜台、名片和产品等介绍。\n\n设计要求：\n1、设计要求主题突出、寓意深刻。\n2、表现要求简约大气、突显雍容华贵。\n3、作品风格、形式不限，但必须原创。\n4、设计PPT规格均为16：9宽屏显示。\n5、必须是彩色原稿，能以不同的比例尺寸清晰显示。\n6、标识应为平面形式，可用于各类广告、宣传商务推介用途。\n7、内容显示的方式，可以添加少量的动画效果。\n\n知识产权说明：\n1、设计要求主题突出、寓意深刻。\n2、表现要求简约大气、突显雍容华贵。\n3、作品风格、形式不限，但必须原创。\n4、设计PPT规格均为16：9宽屏显示。\n5、必须是彩色原稿，能以不同的比例尺寸清晰显示。\n6、标识应为平面形式，可用于各类广告、宣传商务推介用途。\n7、内容显示的方式，可以添加少量的动画效果。";d.data.detail=e},backIndex:function(){d.payState=0,d.showMe=!1,t.vmodels.mainCtrl.showMe=!0},choose:function(t,n){if(t=="purpose"){if(~e.inArray(n,d.data[t])){var r=[];e.each(d.data[t],function(e,t){t!=n&&r.push(t)}),d.data[t]=r;return}d.data.purpose.length<3&&d.data.purpose.push(n);return}d.data[t]=n},check:function(t,n,r){return t=="purpose"?~e.inArray(n,d.data[t]):n==d.data[t]},login:function(){window.parent.$.wpsApi.qingLogin()},setValue:function(e,t){e.indexOf(".")==-1?d[e]=t:d[e.split(".")[0]][e.split(".")[1]]=t},createDateUI:function(){e('[clazz="date"]').datepicker({dateFormat:"yy-mm-dd",minDate:new Date,showOn:"both",buttonImage:"http://img1.template.cache.wps.cn/wpsweb/script/docer/partner/custom/css/img/date.png",buttonImageOnly:!0,selectOtherMonths:!0,changeMonth:!0,changeYear:!0,onSelect:function(e,t){d.data.date=e}})},pageRankPrev:function(e,t){if(d[e].pageIndex==1)return;d[e].pageIndex=d[e].pageIndex-1,d[t]()},pageRankNext:function(e,t){if(d[e].pageIndex==d[e].totalCount||d[e].totalCount==0)return;d[e].pageIndex=d[e].pageIndex+1,d[t]()},setPageTotalCount:function(e,t){var n=d[e].pageCount;d[e].totalNum=t,d[e].totalCount=t%n?parseInt(t/n)+1:parseInt(t/n)},selectBannerImg:function(e,t,n){window._ms_active_continue(e,t,n)},scroll:function(t,n){n&&(t=e("[name="+part+"]").offset().top+t),e("#body").animate({scrollTop:t},"fast")},openlink:function(e){if(!e)return;window.parent&&window.parent.$.wpsApi.getApi()?window.parent.$.wpsApi.qingOpenVipUrl(e):open(e)},checkPrice:function(){var e=!!d.data.price.match(/^[0-9]*$/);return d.data.price==0||d.data.price&&!e?!1:!0},checkPhone:function(){var e=!!d.data.tel.match(/^(1\d{10})$/);return d.data.tel&&!e?!1:!0},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+((\.)?([a-zA-Z0-9_-])+)+@([a-zA-Z0-9_-])+(\.([a-zA-Z0-9_-])+)+$/,t=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.([a-zA-Z0-9_-])+)+$/;return d.data.email&&!e.test(d.data.email)&&!t.test(d.data.email)?!1:!0},getQueryStringRegExp:function(e){var t=new RegExp("(^|\\?|&)"+e+"=([^&^#]*)(\\s|&|$|#)","i");return t.test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""},process:"",fileError:"",createUpload:function(t,n,r){var i=e.extend(!0,{},c,{pick:"#"+t,fileNumLimit:1,upType:"file",overUp:"work",fileSingleSizeLimit:1048576*r,accept:{title:"上传文件",extensions:l,mimeTypes:a}}),o=s.create(i);o.on("uploadBeforeSend",h),o.on("beforeFileQueued",function(e){d.fileError="",d.data.fileUrl=""}),o.on("startUpload",function(){}),o.on("uploadProgress",function(e,t){d.process=Math.floor(t*100)}),o.on("uploadSuccess",function(t,n){var r=e.xml2json(n._raw);d.data.fileUrl=r.Location}),o.on("uploadComplete",function(e){o.reset(),d.process=""}),o.on("uploadError",function(e,t){d.fileError="服务器繁忙请重试上传"}),o.on("error",d.work_validate)},work_validate:function(e,t,n){var r={Q_EXCEED_NUM_LIMIT:"每次只能上传"+t+"个作品",Q_TYPE_DENIED:"你上传的文档，格式不符合的要求，请重新上传！",F_EXCEED_SIZE:"你上传的文档，已超过50M大小，建议你提供文档大纲或直接联系QQ：2853732716"};d.fileError=r[e]},sendCollect:function(e,t){r.sendCollect(e,t)}});return d}),define("customDesigner",["jquery","avalon","dataServices","collect","customOnekey"],function(e,t,n,r,i){var s=n.get("custom"),o=n.get("designer_shop"),u=t.define({$id:"customDesignerCtrl",$skipArray:["desingerData"],page_evaluation:{pageIndex:1,totalCount:0,pageCount:20,totalNum:0,functionName:"queryDesignerData"},page_order:{pageIndex:1,totalCount:0,pageCount:20,totalNum:0,functionName:"queryDesignerData"},showMe:!1,designerTag:"word",cacheData:{},shopData:{work:[],evaluation:[],order:[]},select_type:"evaluation",loading:!1,designerInfo:{},queryMark:"all",arrayFive:[1,2,3,4,5],caseData:[],caseImageList:[],hideTask:!0,hideMaxNum:12,previewID:"",baseData:{author_info:{},every_total:{},impress:[],score:{attitude:0,rtime:0,quality:0,attitude_scale:"0",rtime_scale:"0",quality_scale:"0",sell:0,customizing:0},works:{}},init:function(t){u.showMe=!0,u.shopData={work:[],evaluation:[],order:[]},u.queryBaseData(),u.queryDesignerData(),u.pageResize("frist"),e(window.parent.window).resize(function(){u.pageResize()})},preview:function(t,n,r){o.queryCaseImageList({data:{case_id:n}}).done(function(r){if(r.result==="ok"){u.caseImageList=r.data;var i="http://img1.template.cache.wps.cn/wpsweb/script/docer/partner/component/js/publish/ui/photoview.js",s={word:1,ppt:3,et:2};require([i],function(r){var i=u.caseData[t].$model,o=[{name:i.title,id:n,author:u.baseData.author_info.name,publish_time:"",moban_app:s[u.designerTag],scale:i.scale,effect:i.effect,previewImg:[]}];e.each(u.caseImageList,function(e,t){o[0].previewImg.push({image_url:t.img_url})}),r.show(o,0,3)})}}).fail(function(){}).always(function(){})},callDesigner:function(e){u.sendCollect(10),u.openlink("tencent://message/?uin="+u.designerInfo.qq+"&site=qq&menu=yes")},queryBaseData:function(){o.queryDesignerBaseData({data:{did:u.designerInfo.id}}).done(function(e){e.result==="ok"&&(u.baseData=e.data,e.data.works&&e.data.works.data&&(u.caseData=e.data.works.data))}).fail(function(){}).always(function(){})},set_select_type:function(e,t){u[e]=t,u.shopData[t].length||u.queryDesignerData()},set_query_mark:function(e,t){u.queryMark=t,u["page_"+e].pageIndex=1,u.queryDesignerData()},queryDesignerCaseData:function(e){},queryDesignerData:function(){u.loading=!0,u.shopData[u.select_type]=[];var t={},n,r=u.select_type;u.select_type!="work"&&(u.select_type=="order"?t={designer_id:u.designerInfo.id,offset:(u["page_"+u.select_type].pageIndex-1)*u["page_"+u.select_type].pageCount,limit:u["page_"+u.select_type].pageCount}:u.select_type=="evaluation"&&(t={designer_id:u.designerInfo.id,level:u.queryMark,offset:(u["page_"+u.select_type].pageIndex-1)*u["page_"+u.select_type].pageCount,limit:u["page_"+u.select_type].pageCount})),e.each(t,function(e,t){r=""+r+t}),u.select_type!="work"&&(u.select_type=="order"?n=o.queryOrderList({data:t}):u.select_type=="evaluation"&&(n=o.queryEvaluationList({data:t}))),n.done(function(e){if(e.result==="ok"){var t=[];if(u.select_type=="work")t=e.data.moban;else if(u.select_type=="order")t=e.data.data;else if(u.select_type=="evaluation")for(var n=0;n<e.data.data.length;n++){t.push(e.data.data[n]);var r={isreply:!0,reply:e.data.data[n].reply?e.data.data[n].reply:""};t.push(r)}u.shopData[u.select_type]=t,u.setPageTotalCount("page_"+u.select_type,e.data.total)}}).fail(function(){}).always(function(){u.loading=!1})},avg_class:function(e,t){if(typeof e=="undefined")return;var n="";return t==2?n="_text":t==3&&(n="_logo"),(e==0?"equally":e>0?"high":"low")+n},avg_txt:function(e){if(typeof e=="undefined")return;return e==0?"持平平均值":e>0?"比平均值高":"比平均值低"},backIndex:function(){u.showMe=!1,t.vmodels.mainCtrl.showMe=!0},goCustomCase:function(){var e="http://chn.docer.com/custom/";u.baseData.author_info.type=="word"?e+="resume.html":u.baseData.author_info.type=="ppt"?e+="ppt.html":u.baseData.author_info.type=="et"?e+="chart.html":e+="ppt.html",e+="#1",u.openlink(e)},customPay:function(e){var t="https://vip.wps.cn/pay/custom_";u.baseData.author_info.type=="word"?t+="resume":u.baseData.author_info.type=="ppt"?t+="ppt":u.baseData.author_info.type=="et"?t+="chart":t+="resume",t+="/?csource=docercustom",typeof e!="undefined"&&(t+="&dsid="+e),u.openlink(t)},goCustomPrice:function(){var e="http://chn.docer.com/custom/";u.designerTag=="word"?e+="resume.html":u.designerTag=="ppt"?e+="ppt.html":u.designerTag=="et"?e+="chart.html":e+="resume.html",e+="#2",u.openlink(e)},login:function(){window.parent.$.wpsApi.qingLogin()},setValue:function(e,t){u[e]=t},queryTask:function(t){t=t?t:"Hot";var n={};t=="Top"?n={source:"cli_home_rec",order:"rec",sort:"desc",offset:0,limit:6}:t=="Hot"&&(n={source:"cli_home_list",order:u.taskType,sort:u["task"+u.taskType+"OrderBy"],offset:(u.pageTask.pageIndex-1)*u.pageTask.pageCount,limit:u.pageTask.pageCount});var r=""+n.source+n.order+n.sort+"offset"+n.offset+"limit"+n.limit,i=u.cacheData[r];if(i){u.pageTask.pageIndex==1?u["data"+t+"Task"]=i.data:e.each(i.data,function(e,n){u["data"+t+"Task"].push(n)}),u.setPageTotalCount("pageTask",i.total);return}taskDataServices.queryHotTask({data:n}).done(function(n){n.result==="ok"&&(u.pageTask.pageIndex==1?u["data"+t+"Task"]=n.data.data:e.each(n.data.data,function(e,n){u["data"+t+"Task"].push(n)}),t=="Hot"&&u.setPageTotalCount("pageTask",n.data.count),u.cacheData[r]={data:n.data.data,total:n.data.count})})},pageRankPrev:function(e,t){if(u[e].pageIndex==1)return;u[e].pageIndex=u[e].pageIndex-1,u[t||u[e].functionName]()},pageRankNext:function(e,t){if(u[e].pageIndex==u[e].totalCount||u[e].totalCount==0)return;u[e].pageIndex=u[e].pageIndex+1,u[t||u[e].functionName]()},gotoPageNumber:function(e,t){if(!u[e].pageNumber||u[e].totalCount<=1)return;if(!/^[0-9]*$/.test(u[e].pageNumber)){u[e].pageNumber="";return}u[e].pageNumber>=u[e].totalCount?u[e].pageIndex=u[e].totalCount:u[e].pageNumber<1?u[e].pageIndex=1:u[e].pageIndex=u[e].pageNumber,u[t||u[e].functionName]()},setPageTotalCount:function(e,t){var n=u[e].pageCount;u[e].totalNum=t,u[e].totalCount=t%n?parseInt(t/n)+1:parseInt(t/n)},selectBannerImg:function(e,t,n){window._ms_active_continue(e,t,n)},scroll:function(t,n){n&&(t=e("[name="+part+"]").offset().top+t),e("#body").animate({scrollTop:t},"fast")},openlink:function(e){if(!e)return;window.parent&&window.parent.$.wpsApi.getApi()?window.parent.$.wpsApi.qingOpenVipUrl(e):open(e)},pageResize:function(t){window.parent&&window.parent.window&&(e(window.parent.window).width()-360<1239?(u.hideTask=!0,u.hideMaxNum=8):(u.hideTask=!1,u.designerTag=="word"?u.hideMaxNum=12:u.hideMaxNum=10))},sendCollect:function(e,t){r.sendCollect(e,t)}});return window.parent&&window.parent.$&&window.parent.$.subscribe&&window.parent.$.subscribe("callDesigner",function(e){u.callDesigner()}),u}),define("wpsLazyLoad",["jquery"],function(e){var t=function(e,n){function o(){var e=n(this),t=i.getOption(e);if(!t.isLoad){var r=t.src||e.attr("lazyLoadSrc");n(new Image).attr("src",r).load([t,e],function(e){var t=e.data,i=t[0],s=t[1];s.attr("src",r).hide()[i.effect](i.effectTime),i.isLoad=!0,i.callback&&i.callback.call(s,r),n(this).unbind("load"),setTimeout(function(){i.onShow&&i.onShow.call(s)},0)})}}function u(){setTimeout(function(){n("[lazyLoadSrc]:visible").each(function(e,t){a(n(t))})},800)}function a(e,t){if(i.getOption(e))return;t=n.extend(!0,{},r,t),i.setOption(e,t).bind("showImg",o);var u=n(t.container),a={elementMap:{},num:0};u.data("_WpsLazyLoad_container_")?a=u.data("_WpsLazyLoad_container_"):u.data("_WpsLazyLoad_container_",a),t._index=a.num,a.elementMap[a.num++]=e;if(!a.isBind||a.event!==t.event)u.bind(t.event,function(e){var t=n(this).data("_WpsLazyLoad_container_"),r=t.elementMap;return n.each(r,function(e,t){t.data("_WpsLazyLoadOption_")?s.above(t)&&s.left(t)&&(t.trigger("showImg"),delete r[e]):(delete r[e],t.remove())}),!1}),a.isBind=!0,a.event=t.event;n.each(t.event.split(" "),function(e,t){if(t==="scroll"){var r=n.Event(t,{scrollTop:n("body").scrollTop()});u.trigger(r,"lazyLoad");return}u.trigger(t,"lazyLoad")})}function f(e){var t=i.getOption(e);delete n(t.container).data("_WpsLazyLoad_container_").elementMap[t._index],i.removeOption(e)}var r={threshold:0,failure_limit:0,event:"scroll resize",effect:"fadeIn",container:e,effectTime:300,callback:null},i={setOption:function(e,t){return e.data("_WpsLazyLoadOption_",t)},getOption:function(e){return e.data("_WpsLazyLoadOption_")},removeOption:function(e){return e.removeData("_WpsLazyLoadOption_")}},s={above:function(t){var r,s=n(e),o=i.getOption(t);return o.container===undefined||o.container===e?r=s.height()+s.scrollTop():r=n(o.container).offset().top+n(o.container).height(),r>=n(t).offset().top+o.threshold},below:function(t){var r,s=n(e),o=i.getOption(t);return o.container===undefined||o.container===e?r=s.height()+s.scrollTop():r=n(o.container).offset().top+n(o.container).height(),r<=n(t).offset().top-o.threshold},left:function(t){var r,s=n(e),o=i.getOption(t);return o.container===undefined||o.container===e?r=s.width()+s.scrollLeft():r=n(o.container).offset().left+n(o.container).width(),r>=n(t).offset().left+o.threshold},right:function(t){var r,s=n(e),o=i.getOption(t);return o.container===undefined||o.container===e?r=s.width()+s.scrollLeft():r=n(o.container).offset().left+n(o.container).width(),r<=n(t).offset().left-o.threshold},flag:function(e){var t=i.getOption(e);return!n.rightoffold(e,e)&&!n.leftofbegin(e,e)&&!n.belowthefold(e,e)&&!n.abovethetop(e,e)}};return{init:u,add:a,remove:f}}(e("#body"),e);return t}),define("main",["jquery","avalon","dataServices","collect","customOnekey","customDesigner","wpsLazyLoad"],function(e,t,n,r,i,s,o){var u=n.get("custom"),a=t.define({isLoadDone:!1,$id:"mainCtrl",$skipArray:["desingerData","bannerTime","timer","bannerMaxNum","activeLi","liListEls"],designerTag:"ppt",hideTask:!1,hideMaxNum:8,pageIndex:1,showMaxDesigner:8,isLogin:!1,wps_sid:"",scrollNum:0,pageDesigner:{pageIndex:1,totalCount:0,pageCount:150,totalNum:0},$cacheData:{},desingerData:{wpp:[],word:[],et:[]},desingerList:[],showBuyButton:!1,showMe:!0,showMoreDesigner:!1,selectIndex:-1,init:function(){var t=a.getQueryStringRegExp("app")||"wps",n={wps:"word",wpp:"ppt",et:"et"};a.setValue("designerTag",n[t]?n[t]:"ppt"),a.controlUserStatus(),a.pageResize("frist"),a.queryDesignerData(),e(window.parent.window).resize(function(){a.pageResize()}),setTimeout(function(){a.isLoadDone=!0,a.initCaseBanner()},300)},submitTask:function(){window.parent&&window.parent.$&&window.parent.$.subscribe?a.isLogin?(a.showMe=!1,i.init()):a.login():(a.showMe=!1,i.init())},designerShop:function(e){a.showMe=!1;var t=a.desingerData[a.designerTag][e];s.designerInfo=t,s.init(t.id),s.designerTag=a.designerTag},moreDesigner:function(){a.pageIndex+=1},setDesignerTag:function(e){a.pageIndex=1,a.designerTag=e,a.queryDesignerData()},mouseenter:function(t){e("#dgrEmploy_1"+t).hide(),e("#dgrEmploy_2"+t).show()},mouseleave:function(t){e("#dgrEmploy_2"+t).hide(),e("#dgrEmploy_1"+t).show()},goCustomCase:function(){var e="http://chn.docer.com/custom/";a.designerTag=="word"?e+="resume.html":a.designerTag=="ppt"?e+="ppt.html":a.designerTag=="et"&&(e+="chart.html"),e+="#1",a.openlink(e)},customPay:function(e){var t="https://vip.wps.cn/pay/custom_";a.designerTag=="word"?t+="resume":a.designerTag=="ppt"?t+="ppt":a.designerTag=="et"&&(t+="chart"),t+="/?csource=docercustom",typeof e!="undefined"&&(t+="&dsid="+e),a.openlink(t)},queryDesignerData:function(){var e={word:"jianli",ppt:"ppt",et:"baobiao"},t={sort:"mix",type:e[a.designerTag],offset:(a.pageDesigner.pageIndex-1)*a.pageDesigner.pageCount,limit:a.pageDesigner.pageCount};if(a.desingerData[a.designerTag]&&a.desingerData[a.designerTag].length){a.desingerList=a.desingerData[a.designerTag];return}u.queryDesignerData({data:t}).done(function(e){if(e.result==="ok"){var t=[];e.data.data?t=e.data.data:t=e.data,a.desingerData[a.designerTag]=t,a.desingerList=t}})},login:function(){window.parent.$.wpsApi.qingLogin()},setValue:function(e,t){e.indexOf(".")==-1?a[e]=t:a[e.split(".")[0]][e.split(".")[1]]=t},pageRankPrev:function(e,t){if(a[e].pageIndex==1)return;a[e].pageIndex=a[e].pageIndex-1,a[t]()},pageRankNext:function(e,t){if(a[e].pageIndex==a[e].totalCount||a[e].totalCount==0)return;a[e].pageIndex=a[e].pageIndex+1,a[t]()},setPageTotalCount:function(e,t){var n=a[e].pageCount;a[e].totalNum=t,a[e].totalCount=t%n?parseInt(t/n)+1:parseInt(t/n)},scroll:function(t,n){n&&(t=e("[name="+part+"]").offset().top+t),e("#body").animate({scrollTop:t},"fast")},openlink:function(e){if(!e)return;window.parent&&window.parent.$.wpsApi.getApi()?window.parent.$.wpsApi.qingOpenVipUrl(e):open(e)},updateRice:function(){window.parent.$.publish("updateUser")},controlUserStatus:function(){if(window.parent&&window.parent.$&&window.parent.$.subscribe){var e=window.parent.$.getWpsUser?window.parent.$.getWpsUser():"";e&&e.user&&e.user.userid&&(a.userid=e.user.userid,a.wps_sid=e.wps_sid,a.isLogin=!0),window.parent.$.subscribe("loginSuccess",function(e,t){a.isLogin=!0,a.userid=t.user.userid,a.wps_sid=e}),window.parent.$.subscribe("logoutSuccess",function(e){a.isLogin=!1,a.userid="",a.wps_sid="",i.showMe&&(i.showMe=!1,a.showMe=!0)})}},pageResize:function(t){window.parent&&window.parent.window&&(e(window.parent.window).width()-360<1239?(a.hideTask=!0,a.hideMaxNum=6):(a.hideTask=!1,a.hideMaxNum=8))},getQueryStringRegExp:function(e){var t=new RegExp("(^|\\?|&)"+e+"=([^&^#]*)(\\s|&|$|#)","i");return t.test(location.href)?unescape(RegExp.$2.replace(/\+/g," ")):""},bannerTime:5e3,timer:"",bannerMaxNum:0,activeLi:"",liListEls:"",bannerIndex:0,smallImgReady:!0,initCaseBanner:function(t){if(t&&t==1){setTimeout(function(){a.initCaseBanner()},1e3);return}e("#resumePrev").length&&a.bannerAutoMove(),a.liListEls=e("#cstTurnUl_"+a.designerTag).find("li"),a.activeLi=a.liListEls.eq(0),a.updateBtnState(),a.bannerMaxNum=a.liListEls.length,a.bannerIndex=0},clickBannerIndex:function(t){var n=t.target;n.tagName==="A"&&(a.bannerIndex=~~e(n).attr("bannerIndex"),a.stopBannerAutoMove(),a.bannerAutoMove())},bannerMove:function(){if(a.designerTag=="ppt")return;e("#cstTurnUl_"+a.designerTag).stop().animate({left:"-"+(a.designerTag=="ppt"?749:a.hideTask?820:1080)*a.bannerIndex},500,function(){})},bannerAutoMove:function(){a.stopBannerAutoMove(),a.timer=setInterval(function(){a.bannerIndex!==a.bannerMaxNum-1?++a.bannerIndex:a.bannerIndex=0},a.bannerTime)},stopBannerAutoMove:function(){clearInterval(a.timer)},clickResumePage:function(t){var n=e("#cstTurnUl_"+a.designerTag).children().length,r=+a.bannerIndex+t;r>=0&&(a.bannerIndex=(+a.bannerIndex+t)%n)},clickPrevBtn:function(e){if(a.smallImgReady){var t=a.activeLi.find("img:visible"),n=t.prev("img");n.length&&(a.smallImgReady=!1,t.fadeOut(200,function(){a.showPic(n)}))}e.preventDefault()},clickNextBtn:function(e){if(a.smallImgReady){var t=a.activeLi.find("img:visible"),n=t.next("img");n.length&&(a.smallImgReady=!1,t.fadeOut(200,function(){a.showPic(n)}))}e.preventDefault()},showPic:function(t){var n=e.Deferred();src=t.attr("lazySrc"),src?t.load(function(){n.resolve()}).attr("src",src):t.fadeIn(200,function(){n.resolve()}),n.done(function(){t.fadeIn(200,function(){a.updateBtnState(),a.smallImgReady=!0}).removeAttr("lazySrc")})},updateBtnState:function(){var t=a.activeLi.find("img:visible");t.prev().length?e("#prevBtn").show():e("#prevBtn").hide(),t.next().length?e("#nextBtn").show():e("#nextBtn").hide(),e("#resumePrev").toggle(a.bannerIndex!==0);var n=e("#cstTurnUl_"+a.designerTag).children().length-1;e("#resumeNext").toggle(a.bannerIndex!==n)},sendCollect:function(e,t){r.sendCollect(e,t)}});return a.init(),t.scan(),a.$watch("bannerIndex",function(e,t){a.bannerMove(),a.activeLi=a.liListEls.eq(e),a.updateBtnState()}),a}),define("load-dev",function(){});